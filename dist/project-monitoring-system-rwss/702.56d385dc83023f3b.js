"use strict";(self.webpackChunkProjectMonitoringSystem_RWSS=self.webpackChunkProjectMonitoringSystem_RWSS||[]).push([[702],{8702:(Ie,w,s)=>{s.r(w),s.d(w,{DprModule:()=>_});var m=s(8692),u=s(3580),O=s(4386),r=s(92),c=s(3911),e=s(4537),A=s(8292),N=s(2135),U=s(4536),S=s(9638),f=s(8659),D=s(707),R=s(1561),J=s(8489),F=s(9665);function E(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," This field is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}class g{constructor(o){this.controlContainer=o,this.type="",this.control=r.TO}ngOnInit(){this.controlContainer&&this.formControlName&&(this.control=this.controlContainer.control?.get(this.formControlName),console.log("this.control=",this.control))}writeValue(o){console.log("value----=",o)}registerOnChange(o){}registerOnTouched(o){}setDisabledState(o){}}g.\u0275fac=function(o){return new(o||g)(e.Y36(r.gN))},g.\u0275cmp=e.Xpm({type:g,selectors:[["app-text-area"]],inputs:{label:"label",type:"type",placeholder:"placeholder",formControlName:"formControlName",style:"style",isReadOnly:"isReadOnly"},features:[e._Bn([{provide:r.JU,useExisting:(0,e.Gpc)(()=>g),multi:!0}])],decls:6,vars:8,consts:[["matInput","",3,"type","placeholder","readonly","formControl"],[4,"ngIf"]],template:function(o,t){1&o&&(e.TgZ(0,"mat-form-field")(1,"mat-label"),e._uU(2),e.qZA(),e.TgZ(3,"textarea",0),e._uU(4,"1600 Amphitheatre Pkwy"),e.qZA(),e.YNc(5,E,4,0,"mat-error",1),e.qZA()),2&o&&(e.Akn(t.style),e.xp6(2),e.Oqu(t.label),e.xp6(1),e.Q6J("type",t.type)("placeholder",t.placeholder)("readonly","view"==t.isReadOnly||"true"==t.isReadOnly)("formControl",t.control),e.xp6(2),e.Q6J("ngIf",t.control.hasError("required")))},dependencies:[m.O5,r.Fj,r.JJ,r.oH,f.KE,f.hX,f.TO,F.Nt]});var P=s(9664),M=s(324),b=s(3538),j=s(3331),k=s(1997),I=s(8697);function Q(n,o){1&n&&(e.TgZ(0,"th",22),e._uU(1," No. "),e.qZA())}function G(n,o){if(1&n&&(e.TgZ(0,"td",23),e._uU(1),e.qZA()),2&n){const i=o.index;e.Q6J("formGroup",o.$implicit),e.xp6(1),e.hij(" ",i+1," ")}}function Y(n,o){1&n&&(e.TgZ(0,"td",24),e._uU(1," Total "),e.qZA())}function L(n,o){1&n&&(e.TgZ(0,"th",22),e._uU(1," Milestone"),e.qZA())}function B(n,o){if(1&n&&(e.TgZ(0,"td",23)(1,"p",25),e._uU(2),e.qZA(),e.TgZ(3,"mat-form-field",26),e._UZ(4,"input",27),e.qZA()()),2&n){const t=o.$implicit,i=o.index,a=e.oxw();e.Q6J("formGroup",t),e.xp6(1),e.Q6J("hidden",!a.VOForm.get("VORows").value[i].isEditable),e.xp6(1),e.Oqu(a.VOForm.get("VORows").value[i].milestone),e.xp6(1),e.Q6J("hidden",a.VOForm.get("VORows").value[i].isEditable),e.xp6(1),e.Q6J("readonly",a.VOForm.get("VORows").value[i].isEditable)}}function H(n,o){1&n&&e._UZ(0,"td",24)}function W(n,o){1&n&&(e.TgZ(0,"th",22),e._uU(1," Start Time"),e.qZA())}function K(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"td",23)(1,"p",25),e._uU(2),e.qZA(),e.TgZ(3,"app-select-search",28),e.NdJ("onChangeValue",function(a){const d=e.CHM(t).index,p=e.oxw();return e.KtG(p.onChangeStartTime(a,d))}),e.qZA()()}if(2&n){const t=o.$implicit,i=o.index,a=e.oxw();e.Q6J("formGroup",t),e.xp6(1),e.Q6J("hidden",!a.VOForm.get("VORows").value[i].isEditable),e.xp6(1),e.Oqu(a.VOForm.get("VORows").value[i].startDate),e.xp6(1),e.Akn("width:160px;"),e.Q6J("valueOnly",!0)("hidden",a.VOForm.get("VORows").value[i].isEditable)("label","")("placeholder","Select Start Time")("optionList",a.startTimeList)}}function z(n,o){1&n&&e._UZ(0,"td",24)}function $(n,o){1&n&&(e.TgZ(0,"th",22),e._uU(1," End Time"),e.qZA())}function X(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"td",23)(1,"p",25),e._uU(2),e.qZA(),e.TgZ(3,"app-select-search",29),e.NdJ("onChangeValue",function(a){const d=e.CHM(t).index,p=e.oxw();return e.KtG(p.onChangeEndTime(a,d))}),e.qZA()()}if(2&n){const t=o.$implicit,i=o.index,a=e.oxw();e.Q6J("formGroup",t),e.xp6(1),e.Q6J("hidden",!a.VOForm.get("VORows").value[i].isEditable),e.xp6(1),e.Oqu(a.VOForm.get("VORows").value[i].endDate),e.xp6(1),e.Akn("width:160px;"),e.Q6J("valueOnly",!0)("hidden",a.VOForm.get("VORows").value[i].isEditable)("label","")("placeholder","Select End Time")("optionList",a.endTimeList[i])}}function ee(n,o){1&n&&e._UZ(0,"td",24)}function te(n,o){1&n&&(e.TgZ(0,"th",22),e._uU(1," Timeline"),e.qZA())}function oe(n,o){if(1&n&&(e.TgZ(0,"td",23)(1,"p",25),e._uU(2),e.qZA(),e.TgZ(3,"mat-form-field",30),e._UZ(4,"input",31),e.qZA()()),2&n){const t=o.$implicit,i=o.index,a=e.oxw();e.Q6J("formGroup",t),e.xp6(1),e.Q6J("hidden",!a.VOForm.get("VORows").value[i].isEditable),e.xp6(1),e.Oqu(a.VOForm.get("VORows").value[i].timeline),e.xp6(1),e.Q6J("hidden",a.VOForm.get("VORows").value[i].isEditable),e.xp6(1),e.Q6J("readonly",!0)}}function ne(n,o){1&n&&e._UZ(0,"td",24)}function ie(n,o){1&n&&(e.TgZ(0,"th",22),e._uU(1," Payment %"),e.qZA())}function ae(n,o){if(1&n&&(e.TgZ(0,"td",23)(1,"p",25),e._uU(2),e.qZA(),e.TgZ(3,"mat-form-field",32),e._UZ(4,"input",33),e.qZA()()),2&n){const t=o.$implicit,i=o.index,a=e.oxw();e.Q6J("formGroup",t),e.xp6(1),e.Q6J("hidden",!a.VOForm.get("VORows").value[i].isEditable),e.xp6(1),e.Oqu(a.VOForm.get("VORows").value[i].payment),e.xp6(1),e.Q6J("hidden",a.VOForm.get("VORows").value[i].isEditable),e.xp6(1),e.Q6J("readonly",a.VOForm.get("VORows").value[i].isEditable)}}function re(n,o){if(1&n&&(e.TgZ(0,"td",24),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",t.getTotalPayment()," ")}}function le(n,o){1&n&&(e.TgZ(0,"th",22),e._uU(1," Action "),e.qZA())}function se(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",38),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().index,l=e.oxw();return e.KtG(l.SaveVO(l.VOForm,a))}),e.TgZ(1,"mat-icon"),e._uU(2,"check_circle"),e.qZA()()}}function ce(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",39),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().index,l=e.oxw();return e.KtG(l.CancelSVO(l.VOForm,a))}),e.TgZ(1,"mat-icon"),e._uU(2,"cancel"),e.qZA()()}}function me(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",40),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().index,l=e.oxw();return e.KtG(l.EditSVO(l.VOForm,a))}),e.TgZ(1,"mat-icon"),e._uU(2,"edit"),e.qZA()()}}function pe(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",41),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().index,l=e.oxw();return e.KtG(l.DeleteSVO(l.VOForm,a))}),e.TgZ(1,"mat-icon"),e._uU(2,"delete"),e.qZA()()}}function de(n,o){if(1&n&&(e.TgZ(0,"td",23),e.YNc(1,se,3,0,"button",34),e.YNc(2,ce,3,0,"button",35),e.YNc(3,me,3,0,"button",36),e.YNc(4,pe,3,0,"button",37),e.qZA()),2&n){const t=o.$implicit,i=o.index,a=e.oxw();e.Q6J("formGroup",t),e.xp6(1),e.Q6J("ngIf",!a.VOForm.get("VORows").value[i].isEditable),e.xp6(1),e.Q6J("ngIf",!a.VOForm.get("VORows").value[i].isEditable),e.xp6(1),e.Q6J("ngIf",a.VOForm.get("VORows").value[i].isEditable),e.xp6(1),e.Q6J("ngIf",a.VOForm.get("VORows").value[i].isEditable)}}function ue(n,o){1&n&&e._UZ(0,"td",24)}function fe(n,o){1&n&&e._UZ(0,"tr",42)}function ge(n,o){1&n&&e._UZ(0,"tr",43)}function he(n,o){1&n&&e._UZ(0,"tr",44)}function _e(n,o){1&n&&(e.TgZ(0,"mat-card",45),e._UZ(1,"mat-progress-spinner",46),e.qZA())}const De=function(n){return[5,n]};class C{constructor(o,t,i){this.fb=o,this._formBuilder=t,this.tosasService=i,this.dataList=[],this.displayedColumns=["position","milestone","startDate","endDate","timeline","payment","action"],this.columnNames=[],this.dataSource=new c.by,this.isLoading=!0,this.startTimeList=[{code:"1",name:"April 2022"},{code:"2",name:"May 2022"},{code:"3",name:"Jun 2022"},{code:"4",name:"Jul 2022"},{code:"5",name:"Aug 2022"},{code:"6",name:"Sept 2022"},{code:"7",name:"Oct 2022"},{code:"8",name:"Nov 2022"},{code:"9",name:"Dec 2022"},{code:"10",name:"Jan 2023"},{code:"11",name:"Feb 2023"},{code:"12",name:"Mar 2023"},{code:"13",name:"April 2023"},{code:"14",name:"May 2023"},{code:"15",name:"Jun 2023"},{code:"16",name:"July 2023"},{code:"17",name:"Aug 2023"},{code:"18",name:"Sept 2023"},{code:"19",name:"Oct 2023"},{code:"20",name:"Nov 2023"},{code:"21",name:"Dec 2023"},{code:"22",name:"Jan 2024"},{code:"23",name:"Feb 2024"},{code:"24",name:"Mar 2024"}],this.endTimeList=[{code:"1",name:"April 2022"},{code:"2",name:"May 2022"},{code:"3",name:"Jun 2022"},{code:"4",name:"Jul 2022"},{code:"5",name:"Aug 2022"},{code:"6",name:"Sept 2022"},{code:"7",name:"Oct 2022"},{code:"8",name:"Nov 2022"},{code:"9",name:"Dec 2022"},{code:"10",name:"Jan 2023"},{code:"11",name:"Feb 2023"},{code:"12",name:"Mar 2023"},{code:"13",name:"April 2023"},{code:"14",name:"May 2023"},{code:"15",name:"Jun 2023"},{code:"16",name:"July 2023"},{code:"17",name:"Aug 2023"},{code:"18",name:"Sept 2023"},{code:"19",name:"Oct 2023"},{code:"20",name:"Nov 2023"},{code:"21",name:"Dec 2023"},{code:"22",name:"Jan 2024"},{code:"23",name:"Feb 2024"},{code:"24",name:"Mar 2024"}],this.VOForm=r.nJ,this.isEditableNew=!0,this.paginator=b.NW,this.changeMilestone=new e.vpe}ngOnInit(){this.dataSource=new c.by(this.dataList),this.VOForm=this._formBuilder.group({VORows:this._formBuilder.array([])}),console.log("this.dataSource==",this.dataSource),this.VOForm=this.fb.group({VORows:this.fb.array(this.dataList.map(t=>this.fb.group({milestone:new r.NI(t.milestone,r.kI.required),startDate:new r.NI(t.startDate,r.kI.required),endDate:new r.NI(t.endDate,r.kI.required),timeline:new r.NI(t.timeline,r.kI.required),payment:new r.NI(t.payment,r.kI.required),action:new r.NI("existingRecord"),isEditable:new r.NI(!0),isNewRow:new r.NI(!1)})))}),this.isLoading=!1,this.dataSource=new c.by(this.VOForm.get("VORows").controls);const o=this.dataSource.filterPredicate;this.dataSource.filterPredicate=(t,i)=>o.call(this.dataSource,t.value,i)}onSubmitForm(o){}onClickEditTableAction(o){console.log("edit event==",o)}ngAfterViewInit(){this.dataSource.paginator=this.paginator}AddNewRow(){const o=this.VOForm.get("VORows");o.insert(o.length+1,this.initiateVOForm()),this.dataSource=new c.by(o.controls)}EditSVO(o,t){o.get("VORows").at(t).get("isEditable").patchValue(!1)}SaveVO(o,t){if(console.log("---",o.get("VORows").at(t).valid),o.get("VORows").at(t).invalid)return;let i={totalPayment:this.getTotalPayment(),formValue:this.VOForm.get("VORows")};this.changeMilestone.emit(i),o.get("VORows").at(t).get("isEditable").patchValue(!0)}CancelSVO(o,t){o.get("VORows").at(t).invalid||o.get("VORows").at(t).get("isEditable").patchValue(!0)}DeleteSVO(o,t){const i=this.VOForm.get("VORows");console.log("control==",i),i.removeAt(t),this.dataSource=new c.by(i.controls),this.changeMilestone.emit(this.VOForm.get("VORows"))}onPaginateChange(o,t){setTimeout(i=>{let d=0==o.length?0:`${o.pageSize*o.pageIndex+1} - ${o.length<o.pageSize*(o.pageIndex+1)?o.length:o.pageSize*(o.pageIndex+1)}`,ke=`Page ${0==o.length?"0 of 0":`${o.pageIndex+1} of ${o.getNumberOfPages()}`} (${d} of ${o.length})`;t.length>=1&&(t[0].innerHTML=ke)},0,o.pageIndex)}initiateVOForm(){return this.fb.group({milestone:new r.NI("",r.kI.required),startDate:new r.NI("",r.kI.required),endDate:new r.NI("",r.kI.required),timeline:new r.NI("",r.kI.required),payment:new r.NI(0,r.kI.required),action:new r.NI("newRecord"),isEditable:new r.NI(!1),isNewRow:new r.NI(!0)})}onSaveChainageDetails(){console.log("this.VOFormthis.VOForm==",this.VOForm)}saveandnext(){console.log("this.VOForm ==",this.VOForm.value)}onChangeStartTime(o,t){if(o){let i=[],a=!1;this.startTimeList.forEach(l=>{l.name==o&&(a=!0),a&&i.push(l)}),this.endTimeList[t]=i,this.onChangeEndTime(o,t)}}onChangeEndTime(o,t){if(o){let i=this.VOForm.get("VORows").value[t].startDate,a=this.VOForm.get("VORows").value[t].endDate,l=this.startTimeList.find(p=>p.name==i),d=this.endTimeList.find(p=>p.name==a);if(l&&d){let p=d.code-l.code;console.log("timeline==",p),this.VOForm.get("VORows").at(t).get("timeline").patchValue(p+1+" Months")}}}getTotalPayment(){return this.VOForm.get("VORows").value.map(t=>t.payment).reduce((t,i)=>t+i,0)}}C.\u0275fac=function(o){return new(o||C)(e.Y36(r.QS),e.Y36(r.QS),e.Y36(A._W))},C.\u0275cmp=e.Xpm({type:C,selectors:[["app-edit-road"]],viewQuery:function(o,t){if(1&o&&e.Gf(b.NW,5),2&o){let i;e.iGM(i=e.CRH())&&(t.paginator=i.first)}},outputs:{changeMilestone:"changeMilestone"},decls:44,vars:9,consts:[[1,"mat-elevation-z8"],["title","Add Milestone",1,"add-button-icon"],[1,"add-button",3,"click"],["autocomplete","off",3,"formGroup"],["formArrayName","VORows"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["table",""],["matColumnDef","position"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",3,"formGroup",4,"matCellDef"],["mat-footer-cell","",4,"matFooterCellDef"],["matColumnDef","milestone"],["matColumnDef","startDate"],["matColumnDef","endDate"],["matColumnDef","timeline"],["matColumnDef","payment"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-footer-row","","class","example-first-footer-row",4,"matFooterRowDef"],["style","display: flex; justify-content: center; align-items: center",4,"ngIf"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell",""],["mat-cell","",3,"formGroup"],["mat-footer-cell",""],[3,"hidden"],[2,"width","200px",3,"hidden"],["matInput","","type","text","formControlName","milestone",3,"readonly"],["formControlName","startDate",1,"property-form",3,"valueOnly","hidden","label","placeholder","optionList","onChangeValue"],["formControlName","endDate",1,"property-form",3,"valueOnly","hidden","label","placeholder","optionList","onChangeValue"],[2,"width","100px",3,"hidden"],["matInput","","type","text","formControlName","timeline",3,"readonly"],[2,"width","70px",3,"hidden"],["matInput","","type","number","formControlName","payment",3,"readonly"],["mat-icon-button","","class","material-icons app-toolbar-menu save-button","matTooltip","Save Changes","color","primary",3,"click",4,"ngIf"],["mat-icon-button","","class","material-icons app-toolbar-menu cancel-button","matTooltip","Cancel Changes","color","warn",3,"click",4,"ngIf"],["mat-icon-button","","class","material-icons app-toolbar-menu save-button","matTooltip","Edit","color","primary",3,"click",4,"ngIf"],["mat-icon-button","","class","material-icons app-toolbar-menu delete-button","matTooltip","Delete","color","warn",3,"click",4,"ngIf"],["mat-icon-button","","matTooltip","Save Changes","color","primary",1,"material-icons","app-toolbar-menu","save-button",3,"click"],["mat-icon-button","","matTooltip","Cancel Changes","color","warn",1,"material-icons","app-toolbar-menu","cancel-button",3,"click"],["mat-icon-button","","matTooltip","Edit","color","primary",1,"material-icons","app-toolbar-menu","save-button",3,"click"],["mat-icon-button","","matTooltip","Delete","color","warn",1,"material-icons","app-toolbar-menu","delete-button",3,"click"],["mat-header-row",""],["mat-row",""],["mat-footer-row","",1,"example-first-footer-row"],[2,"display","flex","justify-content","center","align-items","center"],["color","primary","mode","indeterminate"]],template:function(o,t){1&o&&(e.TgZ(0,"section")(1,"div")(2,"div",0)(3,"button",1)(4,"mat-icon",2),e.NdJ("click",function(){return t.AddNewRow()}),e._uU(5,"add_circle"),e.qZA()(),e._UZ(6,"br"),e.TgZ(7,"form",3),e.ynx(8,4),e.TgZ(9,"table",5,6),e.ynx(11,7),e.YNc(12,Q,2,0,"th",8),e.YNc(13,G,2,2,"td",9),e.YNc(14,Y,2,0,"td",10),e.BQk(),e.ynx(15,11),e.YNc(16,L,2,0,"th",8),e.YNc(17,B,5,5,"td",9),e.YNc(18,H,1,0,"td",10),e.BQk(),e.ynx(19,12),e.YNc(20,W,2,0,"th",8),e.YNc(21,K,4,10,"td",9),e.YNc(22,z,1,0,"td",10),e.BQk(),e.ynx(23,13),e.YNc(24,$,2,0,"th",8),e.YNc(25,X,4,10,"td",9),e.YNc(26,ee,1,0,"td",10),e.BQk(),e.ynx(27,14),e.YNc(28,te,2,0,"th",8),e.YNc(29,oe,5,5,"td",9),e.YNc(30,ne,1,0,"td",10),e.BQk(),e.ynx(31,15),e.YNc(32,ie,2,0,"th",8),e.YNc(33,ae,5,5,"td",9),e.YNc(34,re,2,1,"td",10),e.BQk(),e.ynx(35,16),e.YNc(36,le,2,0,"th",8),e.YNc(37,de,5,5,"td",9),e.YNc(38,ue,1,0,"td",10),e.BQk(),e.YNc(39,fe,1,0,"tr",17),e.YNc(40,ge,1,0,"tr",18),e.YNc(41,he,1,0,"tr",19),e.qZA(),e.BQk(),e.qZA(),e.YNc(42,_e,2,0,"mat-card",20),e._UZ(43,"mat-paginator",21),e.qZA()()()),2&o&&(e.xp6(7),e.Q6J("formGroup",t.VOForm),e.xp6(2),e.Q6J("dataSource",t.dataSource),e.xp6(30),e.Q6J("matHeaderRowDef",t.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",t.displayedColumns),e.xp6(1),e.Q6J("matFooterRowDef",t.displayedColumns),e.xp6(1),e.Q6J("ngIf",t.isLoading),e.xp6(1),e.Q6J("pageSizeOptions",e.VKq(7,De,t.dataSource.data.length>8?t.dataSource.data.length:"")))},dependencies:[m.O5,r._Y,r.Fj,r.wV,r.JJ,r.JL,r.sg,r.u,r.CE,S.RK,f.KE,F.Nt,j.Hw,k.a8,I.Ou,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.mD,c.Ke,c.ge,c.ev,c.yh,c.XQ,c.Gk,c.Q2,b.NW,P.h],styles:[".example-first-footer-row[_ngcontent-%COMP%]{font-weight:700}"]});var q=s(8739);function Ce(n,o){if(1&n&&e._UZ(0,"app-table",8),2&n){const t=e.oxw(2);e.Q6J("dataList",null==t.formDetails?null:t.formDetails.milestoneDataSource)("displayedColumns",null==t.formDetails?null:t.formDetails.milestoneDisplayedColumns)}}function ve(n,o){if(1&n&&(e.TgZ(0,"li"),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t," ")}}function Te(n,o){if(1&n&&(e.TgZ(0,"div",9)(1,"div",4),e._uU(2," Name of RoW Authority "),e.qZA(),e.TgZ(3,"div",5)(4,"div",5)(5,"ol"),e.YNc(6,ve,2,1,"li",10),e.qZA()()(),e.TgZ(7,"div",11)(8,"a",12)(9,"mat-icon",13),e._uU(10,"picture_as_pdf"),e.qZA()(),e.TgZ(11,"div"),e._uU(12),e.qZA()()()),2&n){const t=e.oxw(2);e.xp6(6),e.Q6J("ngForOf",null==t.formDetails||null==t.formDetails.authorityDetails?null:t.formDetails.authorityDetails.rowAuthorityName),e.xp6(6),e.hij(" ",null==t.formDetails?null:t.formDetails.authorityDetails.contractorAgrFile," ")}}function xe(n,o){if(1&n&&(e.TgZ(0,"section",1)(1,"div",2)(2,"h3"),e._uU(3,"Review your answers"),e.qZA(),e.TgZ(4,"div",3)(5,"h4"),e._uU(6,"Project Details"),e.qZA(),e.TgZ(7,"div",4),e._uU(8," Project Name "),e.qZA(),e.TgZ(9,"div",5),e._uU(10),e.qZA(),e.TgZ(11,"div",4),e._uU(12," Project Type "),e.qZA(),e.TgZ(13,"div",5),e._uU(14),e.qZA(),e.TgZ(15,"div",4),e._uU(16," Project Value "),e.qZA(),e.TgZ(17,"div",5),e._uU(18),e.qZA(),e.TgZ(19,"div",4),e._uU(20," Project Start Date "),e.qZA(),e.TgZ(21,"div",5),e._uU(22),e.qZA(),e.TgZ(23,"div",4),e._uU(24," Project End Date "),e.qZA(),e.TgZ(25,"div",5),e._uU(26),e.qZA(),e.TgZ(27,"div",4),e._uU(28," Circle "),e.qZA(),e.TgZ(29,"div",5),e._uU(30),e.qZA(),e.TgZ(31,"div",4),e._uU(32," Division "),e.qZA(),e.TgZ(33,"div",5),e._uU(34),e.qZA(),e.TgZ(35,"div",4),e._uU(36," Executing Agency "),e.qZA(),e.TgZ(37,"div",5),e._uU(38),e.qZA(),e.TgZ(39,"div",4),e._uU(40," Registered Address "),e.qZA(),e.TgZ(41,"div",5),e._uU(42),e.qZA(),e.TgZ(43,"div",4),e._uU(44," Contact person "),e.qZA(),e.TgZ(45,"div",5),e._uU(46),e.qZA()(),e.TgZ(47,"div",3)(48,"h4"),e._uU(49,"Milestone Details"),e.qZA(),e.YNc(50,Ce,1,2,"app-table",6),e.qZA(),e.TgZ(51,"div",3)(52,"h4"),e._uU(53,"Authority Details"),e.qZA(),e.YNc(54,Te,13,2,"div",7),e.qZA()()()),2&n){const t=e.oxw();e.xp6(10),e.hij(" ",null==t.formDetails||null==t.formDetails.projectDetails?null:t.formDetails.projectDetails.projectName," "),e.xp6(4),e.hij(" ",null==t.formDetails||null==t.formDetails.projectDetails||null==t.formDetails.projectDetails.projectType?null:t.formDetails.projectDetails.projectType.name," "),e.xp6(4),e.hij(" ",null==t.formDetails||null==t.formDetails.projectDetails?null:t.formDetails.projectDetails.projectValue," "),e.xp6(4),e.hij(" ",null==t.formDetails||null==t.formDetails.projectDetails?null:t.formDetails.projectDetails.projectStartDate," "),e.xp6(4),e.hij(" ",null==t.formDetails||null==t.formDetails.projectDetails?null:t.formDetails.projectDetails.projectEndDate," "),e.xp6(4),e.hij(" ",null==t.formDetails||null==t.formDetails.projectDetails||null==t.formDetails.projectDetails.circle?null:t.formDetails.projectDetails.circle.name," "),e.xp6(4),e.hij(" ",null==t.formDetails||null==t.formDetails.projectDetails||null==t.formDetails.projectDetails.division?null:t.formDetails.projectDetails.division.name," "),e.xp6(4),e.hij(" ",null==t.formDetails||null==t.formDetails.projectDetails?null:t.formDetails.projectDetails.contractorName.name," "),e.xp6(4),e.hij(" ",null==t.formDetails||null==t.formDetails.projectDetails?null:t.formDetails.projectDetails.registeredAddress," "),e.xp6(4),e.hij(" ",null==t.formDetails||null==t.formDetails.projectDetails?null:t.formDetails.projectDetails.contactPerson," "),e.xp6(4),e.Q6J("ngIf",null==t.formDetails?null:t.formDetails.milestoneDisplayedColumns),e.xp6(4),e.Q6J("ngIf",null==t.formDetails?null:t.formDetails.authorityDetails)}}class v{ngOnInit(){console.log("formDetails==",this.formDetails)}}function Ze(n,o){1&n&&e._uU(0,"Field Details")}function ye(n,o){1&n&&e._uU(0,"Milestone")}function Ae(n,o){1&n&&e._uU(0,"Authority Details")}function je(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",40)(1,"mat-checkbox",41),e.NdJ("change",function(a){e.CHM(t);const l=e.oxw();return e.KtG(l.onChange(a))}),e._uU(2),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(1),e.Q6J("color","success")("value",t),e.xp6(1),e.Oqu(t)}}function be(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," This field is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}function we(n,o){1&n&&e._uU(0,"Summary")}v.\u0275fac=function(o){return new(o||v)},v.\u0275cmp=e.Xpm({type:v,selectors:[["app-project-summary"]],inputs:{formDetails:"formDetails"},decls:1,vars:1,consts:[["id","assessment-review",4,"ngIf"],["id","assessment-review"],[1,"container"],[1,"row","details-box"],[1,"col-sm-4"],[1,"col-sm-8"],[3,"dataList","displayedColumns",4,"ngIf"],["class","row",4,"ngIf"],[3,"dataList","displayedColumns"],[1,"row"],[4,"ngFor","ngForOf"],[1,"col-sm-3","col-md-3",2,"padding-top","10px"],["href","javascript:void(0)"],[1,"picture_as_pdf"]],template:function(o,t){1&o&&e.YNc(0,xe,55,12,"section",0),2&o&&e.Q6J("ngIf",t.formDetails)},dependencies:[m.sg,m.O5,j.Hw,q.a]});const Oe=function(n){return{error_class:n}};class T{constructor(o,t,i,a,l){this.toastService=o,this.cmnService=t,this._formBuilder=i,this.router=a,this.dialog=l,this.projectFormGroup=r.nJ,this.projectTypeList=[{code:"SVMW",name:"SVMW"},{code:"Mega",name:"Mega"}],this.durationList=[{code:"6",name:"6 Months"},{code:"12",name:"12 Months"},{code:"24",name:"24 Months"}],this.circleList=[{code:"c-1",name:"Circle 1"},{code:"c-2",name:"Circle 2"}],this.divisionList=[{code:"div-1",name:"Division 1"},{code:"div-2",name:"Division 2"},{code:"div-3",name:"Division 3"}],this.agencyList=[{code:"Contractor 1",name:"Contractor 1"},{code:"Contractor 2",name:"Contractor 2"},{code:"Contractor 3",name:"Contractor 3"},{code:"Contractor Not Registered",name:"Contractor Not Registered"}],this.authorityFormGroup=r.nJ,this.task={subtasks:[{name:"Primary",completed:!1,color:"primary"},{name:"Accent",completed:!1,color:"success"},{name:"Warn",completed:!1,color:"warn"}]},this.steps=O.Z.steps,this.isLinear=!0,this.milestoneDataSource=new c.by,this.milestoneDisplayedColumns=[{col:"milestone",name:"Milestone"},{col:"startDate",name:"Start Time"},{col:"endDate",name:"End Time"},{col:"timeline",name:"Timeline"},{col:"payment",name:"Payment %"}],this.isConsentChecked=!1,this.allComplete=!1,this.milestoneFormGroup=r.nJ,this.submitted=!1,this.isEAgencySelect="true"}onEdit(){alert("edit")}onChange(o){const t=this.authorityFormGroup.get("rowAuthorityName");if(o.checked)t.push(new r.NI(o.source.value));else{const i=t.controls.findIndex(a=>a.value===o.source.value);t.removeAt(i)}}ngOnInit(){this.projectFormGroup=this._formBuilder.group({projectName:["",r.kI.required],projectType:["",r.kI.required],projectValue:["",r.kI.required],projectStartDate:["",r.kI.required],projectEndDate:["",r.kI.required],circle:["",r.kI.required],division:["",r.kI.required],contractorName:["",r.kI.required],registeredAddress:["Demo Address"],contactPerson:["Sailesh Das"]}),this.authorityFormGroup=this._formBuilder.group({rowAuthorityName:this._formBuilder.array([]),contractorAgrFile:[null,r.kI.required]}),this.milestoneFormGroup=this._formBuilder.group({totalMilestone:["",r.kI.required]}),setTimeout(o=>{this.authorityList=["NH","Wildlife","Forest","PWD","Railways"]})}onSelectEAgency(o){o&&"Contractor Not Registered"==o.name?(this.isEAgencySelect="false",this.projectFormGroup.get("registeredAddress").setValue(""),this.projectFormGroup.get("contactPerson").setValue(""),this.projectFormGroup.controls.registeredAddress.setValidators([r.kI.required]),this.projectFormGroup.controls.contactPerson.setValidators([r.kI.required]),this.projectFormGroup.controls.registeredAddress.updateValueAndValidity(),this.projectFormGroup.controls.contactPerson.updateValueAndValidity()):(this.isEAgencySelect="true",this.projectFormGroup.get("registeredAddress").setValue("Demo Address"),this.projectFormGroup.get("contactPerson").setValue("Sailesh Das"))}saveandnext(o){if("Milestone"==o){if(100!=this.milestoneFormGroup.value.totalMilestone)return void this.toastService.warning("Total Milestone payment must be 100%")}else if("authority"==o&&(this.submitted=!0,this.authorityFormGroup.invalid))return;this.formDetails={projectDetails:this.projectFormGroup.value,authorityDetails:this.authorityFormGroup.value,milestoneDataSource:this.milestoneDataSource,milestoneData:this.milestoneDetails,milestoneDisplayedColumns:this.milestoneDisplayedColumns},this.formDetailsToSave={projectDetails:this.projectFormGroup.value,authorityDetails:this.authorityFormGroup.value,milestoneData:this.milestoneDetails,milestoneDisplayedColumns:this.milestoneDisplayedColumns},console.log("onChangeMilestone formDetailsToSave==",JSON.stringify(this.formDetailsToSave)),console.log("onChangeMilestone formDetails==",this.formDetails)}onContractAgrUpload(o){let t=o.target.files;const i=new FormData;i.append("module","property-upload"),i.append("file",t[0]),console.log(i),this.cmnService.setLoading(!0),setTimeout(()=>{this.cmnService.setLoading(!1),this.authorityFormGroup.get("contractorAgrFile").setValue(t[0]?.name)},1e3)}onChangeMilestone(o){console.log("onChangeMilestone==",o),o&&(this.milestoneDetails=o?.formValue?.value),this.totalMileStonePayment=o?.totalPayment,this.milestoneFormGroup.patchValue(100==this.totalMileStonePayment?{totalMilestone:this.totalMileStonePayment}:{totalMilestone:null}),this.milestoneDataSource=new c.by(this.milestoneDetails)}onSubmitForm(){localStorage.setItem("projectData",JSON.stringify(this.formDetailsToSave)),this.router.navigate(["construction/project-submit"])}stringify(o){let t=[],i=JSON.stringify(o,function(a,l){if("object"==typeof l&&null!==l){if(-1!==t.indexOf(l))return;t.push(l)}return l});return t=null,i}}T.\u0275fac=function(o){return new(o||T)(e.Y36(A._W),e.Y36(N.R),e.Y36(r.QS),e.Y36(u.F0),e.Y36(U.uw))},T.\u0275cmp=e.Xpm({type:T,selectors:[["app-create-dpr"]],decls:72,vars:52,consts:[[1,"container",2,"padding-top","10px"],[1,"row"],[1,"col-lg-10","col-md-10","heading-cls"],["id","main-section"],[1,"container"],["labelPosition","bottom","fxLayout","column","fxFlex","100","fxLayoutAlign"," stretch",3,"linear"],["stepper",""],[3,"stepControl"],[3,"formGroup"],["matStepLabel",""],["formControlName","projectName",1,"property-form",3,"label","placeholder"],["formControlName","projectType",1,"property-form",3,"label","placeholder","optionList"],["formControlName","projectValue",1,"property-form",3,"isReadOnly","maxlength","label","placeholder"],["formControlName","circle",1,"property-form",3,"label","placeholder","optionList"],["formControlName","division",1,"property-form",3,"label","placeholder","optionList"],["formControlName","projectStartDate",1,"property-form",3,"label","placeholder"],["formControlName","projectEndDate",1,"property-form",3,"label","placeholder"],["formControlName","contractorName",1,"property-form",3,"label","placeholder","optionList","onChangeValue"],["formControlName","contactPerson",1,"property-form",3,"isReadOnly","maxlength","label","placeholder"],["formControlName","registeredAddress",1,"property-form",3,"isReadOnly","label","placeholder"],["mat-button","","matStepperNext","","color","primary",3,"click"],[3,"changeMilestone"],["type","text","hidden","","formControlName","totalMilestone","required",""],["mat-button","","matStepperPrevious","","color","secondary"],[1,"form-group","row"],[1,"col-sm-3",2,"margin-top","10px"],[1,"col-form-label"],[1,"col-sm-9"],["style","display:inline-block;",4,"ngFor","ngForOf"],[1,"form-group","row",2,"margin-top","30px"],["for","filename1",1,"col-sm-3","col-form-label"],[1,"col-sm-7"],["type","text","name","filename1","formControlName","contractorAgrFile","placeholder","No file selected","readonly","",1,"form-control",3,"ngClass"],[4,"ngIf"],[1,"col-sm-2","input-group-btn"],[1,"btn","btn-outline-secondary","custom-file-uploader"],["type","file","name","file",3,"change"],[3,"formDetails"],[1,"example-margin",3,"ngModel","ngModelChange"],["mat-button","","matStepperNext","","mat-raised-button","","color","primary",3,"disabled","click"],[2,"display","inline-block"],[1,"example-margin",3,"color","value","change"]],template:function(o,t){1&o&&(e.TgZ(0,"section")(1,"div",0)(2,"div",1)(3,"div",2)(4,"span"),e._uU(5,"New Project"),e.qZA()()()()(),e.TgZ(6,"section",3)(7,"div",4)(8,"div")(9,"mat-horizontal-stepper",5,6)(11,"mat-step",7)(12,"form",8),e.YNc(13,Ze,1,0,"ng-template",9),e._UZ(14,"app-text-area",10)(15,"app-select-search",11)(16,"app-text-field",12)(17,"app-select-search",13)(18,"app-select-search",14)(19,"app-date-picker",15)(20,"app-date-picker",16),e.TgZ(21,"app-select-search",17),e.NdJ("onChangeValue",function(a){return t.onSelectEAgency(a)}),e.qZA(),e._UZ(22,"app-text-field",18)(23,"app-text-area",19),e.TgZ(24,"div")(25,"button",20),e.NdJ("click",function(){return t.saveandnext("address")}),e._uU(26,"Save & Next"),e.qZA()()()(),e.TgZ(27,"mat-step",7),e.YNc(28,ye,1,0,"ng-template",9),e.TgZ(29,"form",8)(30,"app-edit-road",21),e.NdJ("changeMilestone",function(a){return t.onChangeMilestone(a)}),e.qZA(),e._UZ(31,"input",22),e.TgZ(32,"div")(33,"button",20),e.NdJ("click",function(){return t.saveandnext("Milestone")}),e._uU(34,"Save & Next"),e.qZA(),e.TgZ(35,"button",23),e._uU(36,"Back"),e.qZA()()()(),e.TgZ(37,"mat-step",7),e.YNc(38,Ae,1,0,"ng-template",9),e.TgZ(39,"form",8)(40,"div",24)(41,"div",25)(42,"mat-label",26),e._uU(43,"Name of RoW Authority"),e.qZA()(),e.TgZ(44,"div",27),e.YNc(45,je,3,3,"div",28),e.qZA()(),e.TgZ(46,"div",29)(47,"label",30),e._uU(48,"Upload Contract Agreement"),e.qZA(),e.TgZ(49,"div",31),e._UZ(50,"input",32),e.YNc(51,be,4,0,"mat-error",33),e.qZA(),e.TgZ(52,"span",34)(53,"div",35),e._uU(54," Select a file "),e.TgZ(55,"input",36),e.NdJ("change",function(a){return t.onContractAgrUpload(a)}),e.qZA()()()(),e.TgZ(56,"div")(57,"button",20),e.NdJ("click",function(){return t.saveandnext("authority")}),e._uU(58,"Save & Next"),e.qZA(),e.TgZ(59,"button",23),e._uU(60,"Back"),e.qZA()()()(),e.TgZ(61,"mat-step"),e.YNc(62,we,1,0,"ng-template",9),e._UZ(63,"app-project-summary",37),e.TgZ(64,"div")(65,"div")(66,"mat-checkbox",38),e.NdJ("ngModelChange",function(a){return t.isConsentChecked=a}),e._uU(67," I hereby declare and affirm that the above-furnished information is true and correct and nothing has been concealed therefrom. "),e.qZA()(),e.TgZ(68,"button",39),e.NdJ("click",function(){return t.onSubmitForm()}),e._uU(69,"Submit"),e.qZA(),e.TgZ(70,"button",23),e._uU(71,"Back"),e.qZA()()()()()()()),2&o&&(e.xp6(9),e.Q6J("linear",t.isLinear),e.xp6(2),e.Q6J("stepControl",t.projectFormGroup),e.xp6(1),e.Q6J("formGroup",t.projectFormGroup),e.xp6(2),e.Akn("width:100%;"),e.Q6J("label","Project Name")("placeholder","Enter Project Name"),e.xp6(1),e.Q6J("label","Project Type")("placeholder","Select Project Type")("optionList",t.projectTypeList),e.xp6(1),e.Akn(""),e.Q6J("isReadOnly","false")("maxlength",100)("label","Project Value in Cr.")("placeholder","Enter Project Value"),e.xp6(1),e.Q6J("label","Circle")("placeholder","Select Circle")("optionList",t.circleList),e.xp6(1),e.Q6J("label","Division")("placeholder","Select Division")("optionList",t.divisionList),e.xp6(1),e.Q6J("label","Project Start Date")("placeholder","Enter Start Date"),e.xp6(1),e.Q6J("label","Project End Date")("placeholder","Enter End Date"),e.xp6(1),e.Q6J("label","Name of Executing Agency")("placeholder","Select Name of Executing Agency")("optionList",t.agencyList),e.xp6(1),e.Akn(""),e.Q6J("isReadOnly",t.isEAgencySelect)("maxlength",100)("label","Contact Person")("placeholder","Enter Contact Person"),e.xp6(1),e.Akn("width:100%"),e.Q6J("isReadOnly",t.isEAgencySelect)("label","Registered Address of Executing Agency")("placeholder","Enter Registered Address of Executing Agency"),e.xp6(4),e.Q6J("stepControl",t.milestoneFormGroup),e.xp6(2),e.Q6J("formGroup",t.milestoneFormGroup),e.xp6(8),e.Q6J("stepControl",t.authorityFormGroup),e.xp6(2),e.Q6J("formGroup",t.authorityFormGroup),e.xp6(6),e.Q6J("ngForOf",t.authorityList),e.xp6(5),e.Q6J("ngClass",e.VKq(50,Oe,t.submitted&&(null==t.authorityFormGroup.controls.contractorAgrFile.errors?null:t.authorityFormGroup.controls.contractorAgrFile.errors.required))),e.xp6(1),e.Q6J("ngIf",t.submitted&&(null==t.authorityFormGroup.controls.contractorAgrFile.errors?null:t.authorityFormGroup.controls.contractorAgrFile.errors.required)),e.xp6(12),e.Q6J("formDetails",t.formDetails),e.xp6(3),e.Q6J("ngModel",t.isConsentChecked),e.xp6(2),e.Q6J("disabled",!t.isConsentChecked))},dependencies:[m.mk,m.sg,m.O5,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.nD,r.On,r.sg,r.u,S.lW,f.hX,f.TO,D.C0,D.VY,D.Vq,D.Ic,D.fd,R.oG,J.a,g,P.h,M.L,C,v],styles:[".card-button[_ngcontent-%COMP%]{position:fixed;bottom:0;width:97%}.mat-mdc-stepper-horizontal[_ngcontent-%COMP%]{border-radius:10px;box-shadow:1px 1px 5px}.form-container[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%] + .mat-mdc-form-field[_ngcontent-%COMP%]{margin-left:8px}.form-container[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%]{width:220px}.form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin-bottom:20px}.form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:5px 0}.form-container[_ngcontent-%COMP%]   .mat-mdc-radio-button[_ngcontent-%COMP%]{margin:0 12px}.mat-mdc-button-base[_ngcontent-%COMP%]{float:right;margin:10px}.mat-mdc-stepper-next[_ngcontent-%COMP%]{background:#106a75}.mat-mdc-stepper-previous[_ngcontent-%COMP%]{background:#9f8346}.mat-mdc-button.mat-primary[_ngcontent-%COMP%], .mat-mdc-icon-button.mat-primary[_ngcontent-%COMP%], .mat-mdc-stroked-button.mat-primary[_ngcontent-%COMP%]{color:#fff!important}.mat-mdc-button.mat-secondary[_ngcontent-%COMP%], .mat-mdc-icon-button.mat-secondary[_ngcontent-%COMP%], .mat-mdc-stroked-button.mat-secondary[_ngcontent-%COMP%]{color:#fff!important;background:#747474e8}.owner-detail-cls[_ngcontent-%COMP%]{padding:10px;background:#e2dfda38;box-shadow:0 0 1px;margin:10px}.flat-details-card[_ngcontent-%COMP%]{margin-top:10px;border-radius:15px;padding:10px}.example-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:15px 0;align-items:flex-start}.example-radio-button[_ngcontent-%COMP%]{margin:5px}.mat-stepper-next[_ngcontent-%COMP%]{background:#106a75}.mat-stepper-previous[_ngcontent-%COMP%]{background:#9f8346}"]});var V=s(6909);function Ne(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div"),e._uU(5," Project details submitted to Executive Engineer for Approval "),e.qZA(),e.TgZ(6,"div",5)(7,"span")(8,"mat-icon"),e._uU(9," thumb_up_alt "),e.qZA()()(),e.TgZ(10,"div",6),e._uU(11," Project Id: P01-2023-02-14-003 "),e.qZA()(),e.TgZ(12,"div",7)(13,"app-button",8),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.gotohome())}),e.qZA()()()()()}2&n&&(e.xp6(13),e.Q6J("text","Go to home")("btnId","primary")("type","submit"))}function Se(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",9)(4,"div"),e._uU(5," Application Submission Failed "),e.qZA(),e.TgZ(6,"div",10)(7,"span")(8,"mat-icon"),e._uU(9," priority_high "),e.qZA()()()(),e.TgZ(10,"div",11)(11,"p"),e._uU(12," Applications submission failed "),e.qZA()(),e.TgZ(13,"div",7)(14,"a",12),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.gotohome())}),e._uU(15,"Go to home"),e.qZA()()()()()}}class x{constructor(o){this.router=o,this.isSubmissionFaield=!1,this.property=[]}ngOnInit(){}gotohome(){this.router.navigate(["welcome"])}}x.\u0275fac=function(o){return new(o||x)(e.Y36(u.F0))},x.\u0275cmp=e.Xpm({type:x,selectors:[["app-project-submit"]],decls:2,vars:2,consts:[["style","padding: 20px;",4,"ngIf"],[2,"padding","20px"],[1,"card"],[1,"card-body"],[1,"success-header"],[1,"success-icon"],[2,"font-size","16px"],[2,"float","right","padding-top","10px"],[3,"text","btnId","type","click"],[1,"failed-header"],[1,"failed-icon"],[1,"failed-footer"],["href","javascript:void(0)",1,"btn","btn-primary",3,"click"]],template:function(o,t){1&o&&(e.YNc(0,Ne,14,3,"div",0),e.YNc(1,Se,16,0,"div",0)),2&o&&(e.Q6J("ngIf",!0),e.xp6(1),e.Q6J("ngIf",!1))},dependencies:[m.O5,j.Hw,V.r]});var Fe=s(5554);function Pe(n,o){if(1&n&&e._UZ(0,"app-table",10),2&n){const t=e.oxw(2);e.Q6J("dataList",t.milestoneDataSource)("displayedColumns",null==t.formDetails?null:t.formDetails.milestoneDisplayedColumns)}}function qe(n,o){if(1&n&&(e.TgZ(0,"li"),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t," ")}}function Ve(n,o){if(1&n&&(e.TgZ(0,"div",11)(1,"div",4),e._uU(2," Name of RoW Authority "),e.qZA(),e.TgZ(3,"div",5)(4,"ol"),e.YNc(5,qe,2,1,"li",12),e.qZA()(),e.TgZ(6,"div",13)(7,"a",14)(8,"mat-icon",15),e._uU(9,"picture_as_pdf"),e.qZA()(),e.TgZ(10,"div"),e._uU(11),e.qZA()()()),2&n){const t=e.oxw(2);e.xp6(5),e.Q6J("ngForOf",null==t.formDetails||null==t.formDetails.authorityDetails?null:t.formDetails.authorityDetails.rowAuthorityName),e.xp6(6),e.hij(" ",null==t.formDetails?null:t.formDetails.authorityDetails.contractorAgrFile," ")}}function Ue(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"section",1)(1,"div",2)(2,"h3"),e._uU(3,"Project review"),e.qZA(),e.TgZ(4,"div",3)(5,"h4"),e._uU(6,"Project Details"),e.qZA(),e.TgZ(7,"div",4),e._uU(8," Project Name "),e.qZA(),e.TgZ(9,"div",5),e._uU(10),e.qZA(),e.TgZ(11,"div",4),e._uU(12," Project Type "),e.qZA(),e.TgZ(13,"div",5),e._uU(14),e.qZA(),e.TgZ(15,"div",4),e._uU(16," Project Value "),e.qZA(),e.TgZ(17,"div",5),e._uU(18),e.qZA(),e.TgZ(19,"div",4),e._uU(20," Project Start Date "),e.qZA(),e.TgZ(21,"div",5),e._uU(22),e.qZA(),e.TgZ(23,"div",4),e._uU(24," Project End Date "),e.qZA(),e.TgZ(25,"div",5),e._uU(26),e.qZA(),e.TgZ(27,"div",4),e._uU(28," Circle "),e.qZA(),e.TgZ(29,"div",5),e._uU(30),e.qZA(),e.TgZ(31,"div",4),e._uU(32," Division "),e.qZA(),e.TgZ(33,"div",5),e._uU(34),e.qZA(),e.TgZ(35,"div",4),e._uU(36," Executing Agency "),e.qZA(),e.TgZ(37,"div",5),e._uU(38),e.qZA(),e.TgZ(39,"div",4),e._uU(40," Registered Address "),e.qZA(),e.TgZ(41,"div",5),e._uU(42),e.qZA(),e.TgZ(43,"div",4),e._uU(44," Contact person "),e.qZA(),e.TgZ(45,"div",5),e._uU(46),e.qZA()(),e.TgZ(47,"div",3)(48,"h4"),e._uU(49,"Milestone Details"),e.qZA(),e.YNc(50,Pe,1,2,"app-table",6),e.qZA(),e.TgZ(51,"div",3)(52,"h4"),e._uU(53,"Authority Details"),e.qZA(),e.YNc(54,Ve,12,2,"div",7),e.qZA(),e.TgZ(55,"div")(56,"div",8)(57,"app-button",9),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.onApprove())}),e.qZA(),e.TgZ(58,"app-button",9),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.onReject())}),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(10),e.hij(" ",null==t.formDetails||null==t.formDetails.projectDetails?null:t.formDetails.projectDetails.projectName," "),e.xp6(4),e.hij(" ",null==t.formDetails||null==t.formDetails.projectDetails||null==t.formDetails.projectDetails.projectType?null:t.formDetails.projectDetails.projectType.name," "),e.xp6(4),e.hij(" ",null==t.formDetails||null==t.formDetails.projectDetails?null:t.formDetails.projectDetails.projectValue," "),e.xp6(4),e.hij(" ",null==t.formDetails||null==t.formDetails.projectDetails?null:t.formDetails.projectDetails.projectStartDate," "),e.xp6(4),e.hij(" ",null==t.formDetails||null==t.formDetails.projectDetails?null:t.formDetails.projectDetails.projectEndDate," "),e.xp6(4),e.hij(" ",null==t.formDetails||null==t.formDetails.projectDetails||null==t.formDetails.projectDetails.circle?null:t.formDetails.projectDetails.circle.name," "),e.xp6(4),e.hij(" ",null==t.formDetails||null==t.formDetails.projectDetails||null==t.formDetails.projectDetails.division?null:t.formDetails.projectDetails.division.name," "),e.xp6(4),e.hij(" ",null==t.formDetails||null==t.formDetails.projectDetails?null:t.formDetails.projectDetails.contractorName.name," "),e.xp6(4),e.hij(" ",null==t.formDetails||null==t.formDetails.projectDetails?null:t.formDetails.projectDetails.registeredAddress," "),e.xp6(4),e.hij(" ",null==t.formDetails||null==t.formDetails.projectDetails?null:t.formDetails.projectDetails.contactPerson," "),e.xp6(4),e.Q6J("ngIf",null==t.formDetails?null:t.formDetails.milestoneDisplayedColumns),e.xp6(4),e.Q6J("ngIf",null==t.formDetails?null:t.formDetails.authorityDetails),e.xp6(3),e.Akn("float:right;margin-right:0px;"),e.Q6J("text","Approve")("btnId","primary")("type","submit"),e.xp6(1),e.Akn("float:right;margin-right:10px;"),e.Q6J("text","Reject")("btnId","warn")("type","submit")}}class Z{constructor(o,t){this.toasterService=o,this.router=t,this.milestoneDataSource=new c.by}ngOnInit(){console.log("formDetails==",this.formDetails),this.milestoneDataSource=new c.by(this.formDetails?.milestoneData)}onApprove(){this.toasterService.success("Project Approved Successfully"),setTimeout(()=>{this.router.navigate(["/welcome"])},300)}onReject(){this.toasterService.error("Project Rejected Successfully"),setTimeout(()=>{this.router.navigate(["/welcome"])},300)}}function Re(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"section",2)(1,"div",3)(2,"div",4)(3,"h5"),e._uU(4,"Project List"),e.qZA()(),e.TgZ(5,"div",5)(6,"ag-grid-angular",6),e.NdJ("gridReady",function(a){e.CHM(t);const l=e.oxw();return e.KtG(l.onGridReady(a))})("cellClicked",function(a){e.CHM(t);const l=e.oxw();return e.KtG(l.onCellClicked(a))}),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(6),e.Q6J("columnDefs",t.columnDefs)("defaultColDef",t.defaultColDef)("rowData",t.rowData)("paginationAutoPageSize",!0)("pagination",!0)("suppressRowClickSelection",!0)}}function Je(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"section",7)(1,"div",3)(2,"span",8),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.goBack())}),e._UZ(3,"i",9),e._uU(4," Back "),e.qZA()(),e._UZ(5,"app-project-approval-details",10),e.qZA()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("formDetails",t.projectData)}}Z.\u0275fac=function(o){return new(o||Z)(e.Y36(A._W),e.Y36(u.F0))},Z.\u0275cmp=e.Xpm({type:Z,selectors:[["app-project-approval-details"]],inputs:{formDetails:"formDetails"},decls:1,vars:1,consts:[["id","assessment-review",4,"ngIf"],["id","assessment-review"],[1,"container"],[1,"row","details-box"],[1,"col-sm-4"],[1,"col-sm-8"],[3,"dataList","displayedColumns",4,"ngIf"],["class","row",4,"ngIf"],[2,"height","40px"],[3,"text","btnId","type","click"],[3,"dataList","displayedColumns"],[1,"row"],[4,"ngFor","ngForOf"],[1,"col-sm-3","col-md-3",2,"padding-top","10px"],["href","javascript:void(0)"],[1,"picture_as_pdf"]],template:function(o,t){1&o&&e.YNc(0,Ue,59,22,"section",0),2&o&&e.Q6J("ngIf",t.formDetails)},dependencies:[m.sg,m.O5,j.Hw,V.r,q.a],styles:[".picture_as_pdf[_ngcontent-%COMP%]{font-size:40px;color:gray;height:auto;width:auto}.details-box[_ngcontent-%COMP%]   .col-sm-4[_ngcontent-%COMP%]{font-weight:600}"]});class y{constructor(o,t,i,a){this.toastService=o,this.cmnService=t,this._formBuilder=i,this.router=a,this.finYear=["2018-19","2019-20","2020-21","2021-22","2022-23"],this.showProjectList=!0,this.showProjectDetails=!1,this.showProjectSearch=!0,this.columnDefs=[{field:"projectName",cellStyle:{color:"#046A38",cursor:"pointer"},cellRenderer:l=>'<span title="'+l.value+'">'+l.value+"</span>"},{field:"projectType"},{field:"projectStartDate"},{field:"projectEndDate"},{field:"circle"},{field:"division"}],this.defaultColDef={flex:1,minWidth:150,filter:!0},this.projectFormGroup=r.nJ,this.projectTypeList=[{code:"SVMW",name:"SVMW"},{code:"Mega",name:"Mega"}],this.projectList=[{code:"001",name:"Project 1"},{code:"002",name:"Project 2"}],this.executingAgencyList=[{code:"001",name:"Executing Ahency 1"},{code:"002",name:"Executing Ahency 2"}]}ngOnInit(){this.projectFormGroup=this._formBuilder.group({projectName:[""],projectType:[""],projectStartDate:[""],projectEndDate:[""]})}onSelectProject(){}onGridReady(o){this.rowData=O.Z.projectList}onCellClicked(o){window.scroll({top:0,left:0,behavior:"smooth"}),console.log("event==",o);let t=localStorage.getItem("projectData");t&&(t=JSON.parse(t)),this.projectData=t,this.showProjectDetails=!0,this.showProjectList=!1,this.showProjectSearch=!1}onSearchProject(o){o.preventDefault(),this.showProjectList=!0}goBack(){this.showProjectDetails=!1,this.showProjectList=!0,this.showProjectSearch=!0}}y.\u0275fac=function(o){return new(o||y)(e.Y36(A._W),e.Y36(N.R),e.Y36(r.QS),e.Y36(u.F0))},y.\u0275cmp=e.Xpm({type:y,selectors:[["app-project-approval"]],decls:2,vars:2,consts:[["id","search-project-table","class","search-project-table",4,"ngIf"],["id","project-dashboard-details","class","project-dashboard-details",4,"ngIf"],["id","search-project-table",1,"search-project-table"],[1,"container"],[1,"label-header"],[1,"marginTopForFormCustomClass1"],[1,"ag-theme-alpine",2,"width","100%","height","50vh",3,"columnDefs","defaultColDef","rowData","paginationAutoPageSize","pagination","suppressRowClickSelection","gridReady","cellClicked"],["id","project-dashboard-details",1,"project-dashboard-details"],[2,"cursor","pointer",3,"click"],[1,"icofont-arrow-left","go-back"],[3,"formDetails"]],template:function(o,t){1&o&&(e.YNc(0,Re,7,6,"section",0),e.YNc(1,Je,6,1,"section",1)),2&o&&(e.Q6J("ngIf",t.showProjectList),e.xp6(1),e.Q6J("ngIf",t.showProjectDetails))},dependencies:[m.O5,Fe.N8,Z]});const Ee=[{path:"create-project",component:T},{path:"project-submit",component:x},{path:"project-approval",component:y}];class h{}h.\u0275fac=function(o){return new(o||h)},h.\u0275mod=e.oAB({type:h}),h.\u0275inj=e.cJS({imports:[u.Bz.forChild(Ee),u.Bz]});var Me=s(3874);class _{}_.\u0275fac=function(o){return new(o||_)},_.\u0275mod=e.oAB({type:_}),_.\u0275inj=e.cJS({imports:[m.ez,h,Me.m]})}}]);