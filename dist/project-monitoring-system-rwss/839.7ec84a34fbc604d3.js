"use strict";(self.webpackChunkProjectMonitoringSystem_RWSS=self.webpackChunkProjectMonitoringSystem_RWSS||[]).push([[839],{9664:(O,A,l)=>{l.d(A,{h:()=>c});var t=l(4537),m=l(92),r=l(8692),e=l(8659),S=l(9665),v=l(8033),F=l(1379);function y(u,a){if(1&u&&(t.TgZ(0,"mat-option",5),t._uU(1),t.qZA()),2&u){const i=a.$implicit,d=t.oxw();t.Q6J("value",d.valueOnly?i.name:i),t.xp6(1),t.hij(" ",i.name," ")}}function f(u,a){1&u&&(t.TgZ(0,"mat-option"),t._uU(1," No result found "),t.qZA())}function T(u,a){1&u&&(t.TgZ(0,"mat-error"),t._uU(1," This field is "),t.TgZ(2,"strong"),t._uU(3,"required"),t.qZA()())}class c{constructor(a){this.controlContainer=a,this.type="",this.valueOnly=!1,this.control=m.TO,this.onChangeValue=new t.vpe,this.searchFilterCtrl=new m.p4}ngOnChanges(a){this.optionList&&this.optionList.length>0&&(this.options=JSON.parse(JSON.stringify(this.optionList))),this.controlContainer&&this.formControlName&&(this.selectCtrl=this.controlContainer.control?.get(this.formControlName),console.log("this.control=",this.selectCtrl))}ngOnInit(){this.optionList&&this.optionList.length>0&&(this.options=JSON.parse(JSON.stringify(this.optionList)),console.log("this.options==",this.options))}writeValue(a){console.log("value----=",a)}registerOnChange(a){}registerOnTouched(a){}setDisabledState(a){}onSelect(a){console.log("value==",a),this.onChangeValue.emit(a)}search(){let a=this.searchFilterCtrl.value;console.log("query",a);let i=this.select(a);console.log("result=",i),this.options=i}select(a){let i=[];for(let d of this.optionList)d.name.toLowerCase().indexOf(a)>-1&&i.push(d);return i}}c.\u0275fac=function(a){return new(a||c)(t.Y36(m.gN))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-select-search"]],inputs:{label:"label",type:"type",placeholder:"placeholder",formControlName:"formControlName",optionList:"optionList",valueOnly:"valueOnly",style:"style"},outputs:{onChangeValue:"onChangeValue"},features:[t._Bn([{provide:m.JU,useExisting:(0,t.Gpc)(()=>c),multi:!0}]),t.TTD],decls:9,vars:9,consts:[["ngDefaultControl","",3,"formControl","placeholder","openedChange","selectionChange"],["matInput","","focused","'true'","type","text","autocomplete","off","placeholder","search",1,"myInput-search",3,"formControl","keyup"],["myInput",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"value"]],template:function(a,i){if(1&a){const d=t.EpF();t.TgZ(0,"mat-form-field")(1,"mat-label"),t._uU(2),t.qZA(),t.TgZ(3,"mat-select",0),t.NdJ("openedChange",function(){t.CHM(d);const _=t.MAs(5);return t.KtG(_.focus())})("selectionChange",function(_){return i.onSelect(_.value)}),t.TgZ(4,"input",1,2),t.NdJ("keyup",function(){return i.search()}),t.qZA(),t.YNc(6,y,2,2,"mat-option",3),t.YNc(7,f,2,0,"mat-option",4),t.qZA(),t.YNc(8,T,4,0,"mat-error",4),t.qZA()}2&a&&(t.Akn(i.style),t.xp6(2),t.Oqu(i.label),t.xp6(1),t.Q6J("formControl",i.selectCtrl)("placeholder",i.placeholder),t.xp6(1),t.Q6J("formControl",i.searchFilterCtrl),t.xp6(2),t.Q6J("ngForOf",i.options),t.xp6(1),t.Q6J("ngIf",i.options&&0==i.options.length),t.xp6(1),t.Q6J("ngIf",i.selectCtrl.hasError("required")))},dependencies:[r.sg,r.O5,m.Fj,m.JJ,m.oH,e.KE,e.hX,e.TO,S.Nt,v.gD,F.ey],styles:[".myInput-search[_ngcontent-%COMP%]{padding:10px;border-bottom:1px solid!important;width:100%}"]})},8839:(O,A,l)=>{l.r(A),l.d(A,{DAndDModule:()=>D});var t=l(8692),m=l(3580),r=l(92),e=l(4537),S=l(8292),v=l(2135),F=l(9638),y=l(8659),f=l(707),T=l(4639),c=l(8489),u=l(9664),a=l(6909),i=l(324);function d(s,n){1&s&&e._uU(0,"Field Details")}function b(s,n){1&s&&e._uU(0,"GDA Details")}function _(s,n){1&s&&(e.TgZ(0,"mat-error"),e._uU(1," This field is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}function N(s,n){1&s&&e._uU(0,"HFD Details")}function x(s,n){1&s&&(e.TgZ(0,"mat-error"),e._uU(1," This field is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}function G(s,n){1&s&&e._uU(0,"Structural Design Details")}function M(s,n){1&s&&(e.TgZ(0,"mat-error"),e._uU(1," This field is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}const Z=function(s){return{error_class:s}};class C{constructor(n,o,p,g){this.toastService=n,this.cmnService=o,this._formBuilder=p,this.router=g,this.projectFormGroup=r.nJ,this.gdaFormGroup=r.nJ,this.hfdFormGroup=r.nJ,this.structuralFormGroup=r.nJ,this.projectTypeList=[{code:"SVMW",name:"SVMW"},{code:"Mega",name:"Mega"}],this.projectList=[{code:"001",name:"Project 1"},{code:"002",name:"Project 2"}],this.executingAgencyList=[{code:"001",name:"Executing Agency 1"},{code:"002",name:"Executing Agency 2"}],this.isLinear=!0,this.submitted=!1,this.gdaSubmitted=!1,this.hfdSubmitted=!1,this.structuralSubmitted=!1}ngOnInit(){this.projectFormGroup=this._formBuilder.group({projectName:["",r.kI.required],projectType:["",r.kI.required],nodalOfficerName:["",r.kI.required],nodalOfficerEmail:["",r.kI.required],nodalOfficerMobileNo:["",[r.kI.required,r.kI.pattern(/^[0-9]{10,10}$/)]],executingAgency:["",r.kI.required]}),this.gdaFormGroup=this._formBuilder.group({isGDASubmitted:[!1,r.kI.required],isGDAApproved:[!1,r.kI.required],GDAApprovalDate:["",r.kI.required],GDASubmissionDate:["",r.kI.required],GDA_File:["",r.kI.required]}),this.hfdFormGroup=this._formBuilder.group({isHFDSubmitted:[!1,r.kI.required],isHFDApproved:[!1,r.kI.required],HFDSubmissionDate:["",r.kI.required],HFDApprovalDate:["",r.kI.required],HFD_File:["",r.kI.required]}),this.structuralFormGroup=this._formBuilder.group({isStructuralDesignSubmitted:[!1,r.kI.required],structuralDesiginSubmissionDate:["",r.kI.required],isStructuralDesignApproved:[!1,r.kI.required],structuralApprovalDate:["",r.kI.required],structuralDocFile:["",r.kI.required]})}onSaveDnD(){this.structuralSubmitted=!0,!this.structuralFormGroup.invalid&&this.toastService.success("D&D has been successfully Saved")}onSubmitDnD(){this.structuralSubmitted=!0,!this.structuralFormGroup.invalid&&this.toastService.success("D&D has been successfully sent to head of Design Cell")}onUploadGDADoc(n){let o=n.target.files;const p=new FormData;p.append("file",o[0]),console.log(p),this.cmnService.setLoading(!0),setTimeout(()=>{this.cmnService.setLoading(!1),this.gdaFormGroup.get("GDA_File").setValue(o[0]?.name)},500)}onUploadHFDDoc(n){let o=n.target.files;const p=new FormData;p.append("file",o[0]),console.log(p),this.cmnService.setLoading(!0),setTimeout(()=>{this.cmnService.setLoading(!1),this.hfdFormGroup.get("HFD_File").setValue(o[0]?.name)},500)}onUploadStructuralDoc(n){let o=n.target.files;const p=new FormData;p.append("file",o[0]),console.log(p),this.cmnService.setLoading(!0),setTimeout(()=>{this.cmnService.setLoading(!1),this.structuralFormGroup.get("structuralDocFile").setValue(o[0]?.name)},500)}saveandnext(n){if("field"!=n)if("GDA"==n){if(this.gdaSubmitted=!0,this.gdaFormGroup.invalid)return}else if("HFD"==n&&(this.hfdSubmitted=!0,this.hfdFormGroup.invalid))return}}C.\u0275fac=function(n){return new(n||C)(e.Y36(S._W),e.Y36(v.R),e.Y36(r.QS),e.Y36(m.F0))},C.\u0275cmp=e.Xpm({type:C,selectors:[["app-create-d-and-d"]],decls:98,vars:86,consts:[[1,"container",2,"padding-top","10px"],[1,"row"],[1,"col-lg-10","col-md-10","heading-cls"],["id","main-section"],["labelPosition","bottom","fxLayout","column","fxFlex","100","fxLayoutAlign"," stretch",3,"linear"],["stepper",""],[3,"stepControl"],["matStepLabel",""],[3,"formGroup"],[1,"ddCls"],["formControlName","projectType",1,"property-form",3,"label","placeholder","optionList"],["formControlName","projectName",1,"property-form",3,"label","placeholder","optionList"],["formControlName","nodalOfficerName",1,"property-form",3,"isReadOnly","maxlength","label","placeholder"],["formControlName","nodalOfficerMobileNo",1,"property-form",3,"isReadOnly","type","maxlength","label","placeholder"],["formControlName","nodalOfficerEmail",1,"property-form",3,"isReadOnly","type","maxlength","label","placeholder"],["formControlName","executingAgency",1,"property-form",3,"label","placeholder","optionList"],["mat-button","","matStepperNext","","color","primary",3,"click"],["formControlName","isGDASubmitted",2,"width","30%"],["formControlName","GDASubmissionDate",1,"property-form",3,"label","placeholder"],["formControlName","isGDAApproved",2,"width","30%"],["formControlName","GDAApprovalDate",1,"property-form",3,"label","placeholder"],[1,"form-group","row",2,"margin-top","30px"],["for","filename1",1,"col-sm-3","col-form-label",2,"width","30%"],[1,"col-sm-7",2,"width","47%"],["type","text","name","filename1","formControlName","GDA_File","placeholder","No file selected","readonly","",1,"form-control",3,"ngClass"],[4,"ngIf"],[1,"col-sm-2","input-group-btn"],[1,"btn","btn-outline-secondary","custom-file-uploader"],["type","file","name","file",3,"change"],["mat-button","","matStepperPrevious","","color","secondary"],["formControlName","isHFDSubmitted",2,"width","30%"],["formControlName","HFDSubmissionDate",1,"property-form",3,"label","placeholder"],["formControlName","isHFDApproved",2,"width","30%"],["formControlName","HFDApprovalDate",1,"property-form",3,"label","placeholder"],["type","text","name","filename1","formControlName","HFD_File","placeholder","No file selected","readonly","",1,"form-control",3,"ngClass"],["formControlName","isStructuralDesignSubmitted",2,"width","30%"],["formControlName","structuralDesiginSubmissionDate",1,"property-form",3,"label","placeholder"],["formControlName","isStructuralDesignApproved",2,"width","30%"],["formControlName","structuralApprovalDate",1,"property-form",3,"label","placeholder"],["type","text","name","filename1","formControlName","structuralDocFile","placeholder","No file selected","readonly","",1,"form-control",3,"ngClass"],[3,"text","btnId","type","click"]],template:function(n,o){1&n&&(e.TgZ(0,"section")(1,"div",0)(2,"div",1)(3,"div",2)(4,"span"),e._uU(5,"D&D Creation"),e.qZA()()()()(),e.TgZ(6,"section",3)(7,"div")(8,"mat-horizontal-stepper",4,5)(10,"mat-step",6),e.YNc(11,d,1,0,"ng-template",7),e.TgZ(12,"form",8)(13,"div",9),e._UZ(14,"app-select-search",10)(15,"app-select-search",11)(16,"app-text-field",12)(17,"app-text-field",13)(18,"app-text-field",14)(19,"app-select-search",15),e.qZA(),e.TgZ(20,"div")(21,"button",16),e.NdJ("click",function(){return o.saveandnext("field")}),e._uU(22,"Save & Next"),e.qZA()()()(),e.TgZ(23,"mat-step",6),e.YNc(24,b,1,0,"ng-template",7),e.TgZ(25,"form",8)(26,"div",9)(27,"mat-slide-toggle",17),e._uU(28,"GAD Submitted"),e.qZA(),e._UZ(29,"app-date-picker",18),e.TgZ(30,"mat-slide-toggle",19),e._uU(31,"GAD Approved"),e.qZA(),e._UZ(32,"app-date-picker",20),e.TgZ(33,"div",21)(34,"label",22),e._uU(35,"Upload Document(GAD)"),e.qZA(),e.TgZ(36,"div",23),e._UZ(37,"input",24),e.YNc(38,_,4,0,"mat-error",25),e.qZA(),e.TgZ(39,"span",26)(40,"div",27),e._uU(41," Select a file "),e.TgZ(42,"input",28),e.NdJ("change",function(g){return o.onUploadGDADoc(g)}),e.qZA()()()()(),e.TgZ(43,"div")(44,"button",16),e.NdJ("click",function(){return o.saveandnext("GDA")}),e._uU(45,"Save & Next"),e.qZA(),e.TgZ(46,"button",29),e._uU(47,"Back"),e.qZA()()()(),e.TgZ(48,"mat-step",6),e.YNc(49,N,1,0,"ng-template",7),e.TgZ(50,"form",8)(51,"div",9)(52,"mat-slide-toggle",30),e._uU(53,"HFD Submitted"),e.qZA(),e._UZ(54,"app-date-picker",31),e.TgZ(55,"mat-slide-toggle",32),e._uU(56,"HFD Approved"),e.qZA(),e._UZ(57,"app-date-picker",33),e.TgZ(58,"div",21)(59,"label",22),e._uU(60,"Upload Document(HFD)"),e.qZA(),e.TgZ(61,"div",23),e._UZ(62,"input",34),e.YNc(63,x,4,0,"mat-error",25),e.qZA(),e.TgZ(64,"span",26)(65,"div",27),e._uU(66," Select a file "),e.TgZ(67,"input",28),e.NdJ("change",function(g){return o.onUploadHFDDoc(g)}),e.qZA()()()()(),e.TgZ(68,"div")(69,"button",16),e.NdJ("click",function(){return o.saveandnext("HFD")}),e._uU(70,"Save & Next"),e.qZA(),e.TgZ(71,"button",29),e._uU(72,"Back"),e.qZA()()()(),e.TgZ(73,"mat-step",6),e.YNc(74,G,1,0,"ng-template",7),e.TgZ(75,"form",8)(76,"div",9)(77,"mat-slide-toggle",35),e._uU(78,"Structural Design Submitted"),e.qZA(),e._UZ(79,"app-date-picker",36),e.TgZ(80,"mat-slide-toggle",37),e._uU(81,"Structural Design Approved"),e.qZA(),e._UZ(82,"app-date-picker",38),e.TgZ(83,"div",21)(84,"label",22),e._uU(85,"Upload Document(Structural)"),e.qZA(),e.TgZ(86,"div",23),e._UZ(87,"input",39),e.YNc(88,M,4,0,"mat-error",25),e.qZA(),e.TgZ(89,"span",26)(90,"div",27),e._uU(91," Select a file "),e.TgZ(92,"input",28),e.NdJ("change",function(g){return o.onUploadStructuralDoc(g)}),e.qZA()()()()(),e.TgZ(93,"div")(94,"app-button",40),e.NdJ("click",function(){return o.onSubmitDnD()}),e.qZA(),e.TgZ(95,"app-button",40),e.NdJ("click",function(){return o.onSaveDnD()}),e.qZA(),e.TgZ(96,"button",29),e._uU(97,"Back"),e.qZA()()()()()()()),2&n&&(e.xp6(8),e.Q6J("linear",o.isLinear),e.xp6(2),e.Q6J("stepControl",o.projectFormGroup),e.xp6(2),e.Q6J("formGroup",o.projectFormGroup),e.xp6(2),e.Q6J("label","Project Type")("placeholder","Select Project Type")("optionList",o.projectTypeList),e.xp6(1),e.Q6J("label","Select Project")("placeholder","Select Project")("optionList",o.projectList),e.xp6(1),e.Akn(""),e.Q6J("isReadOnly","false")("maxlength",100)("label","Name of Design cell Nodal Officer")("placeholder","Enter Name of Design cell Nodal Officer"),e.xp6(1),e.Akn(""),e.Q6J("isReadOnly","false")("type","tel")("maxlength",100)("label","Mobile No of Design cell Nodal Officer")("placeholder","Enter Mobile No of Design cell Nodal Officer"),e.xp6(1),e.Akn(""),e.Q6J("isReadOnly","false")("type","email")("maxlength",100)("label","Email address of Design cell Nodal Officer")("placeholder","Enter Email address of Design cell Nodal Officer"),e.xp6(1),e.Q6J("label","Select Executing Agency")("placeholder","Select Executing Agency")("optionList",o.executingAgencyList),e.xp6(4),e.Q6J("stepControl",o.gdaFormGroup),e.xp6(2),e.Q6J("formGroup",o.gdaFormGroup),e.xp6(4),e.Akn("width:60%;"),e.Q6J("label","GAD Submission Date")("placeholder","Enter GAD Submission Date"),e.xp6(3),e.Akn("width:60%;"),e.Q6J("label","GAD Approval Date")("placeholder","Enter GAD Approval Date"),e.xp6(5),e.Q6J("ngClass",e.VKq(80,Z,o.gdaSubmitted&&(null==o.gdaFormGroup.controls.GDA_File.errors?null:o.gdaFormGroup.controls.GDA_File.errors.required))),e.xp6(1),e.Q6J("ngIf",o.gdaSubmitted&&(null==o.gdaFormGroup.controls.GDA_File.errors?null:o.gdaFormGroup.controls.GDA_File.errors.required)),e.xp6(10),e.Q6J("stepControl",o.hfdFormGroup),e.xp6(2),e.Q6J("formGroup",o.hfdFormGroup),e.xp6(4),e.Akn("width:60%;"),e.Q6J("label","HFD Submission Date")("placeholder","Enter HFD Submission Date"),e.xp6(3),e.Akn("width:60%;"),e.Q6J("label","HFD Approval Date")("placeholder","Enter HFD Approval Date"),e.xp6(5),e.Q6J("ngClass",e.VKq(82,Z,o.hfdSubmitted&&(null==o.hfdFormGroup.controls.HFD_File.errors?null:o.hfdFormGroup.controls.HFD_File.errors.required))),e.xp6(1),e.Q6J("ngIf",o.hfdSubmitted&&(null==o.hfdFormGroup.controls.HFD_File.errors?null:o.hfdFormGroup.controls.HFD_File.errors.required)),e.xp6(10),e.Q6J("stepControl",o.structuralFormGroup),e.xp6(2),e.Q6J("formGroup",o.structuralFormGroup),e.xp6(4),e.Akn("width:60%;"),e.Q6J("label","Design Submission Date")("placeholder","Enter Design Submission Date"),e.xp6(3),e.Akn("width:60%;"),e.Q6J("label","Design Approval Date")("placeholder","Enter Design Approval Date"),e.xp6(5),e.Q6J("ngClass",e.VKq(84,Z,o.structuralSubmitted&&(null==o.structuralFormGroup.controls.structuralDocFile.errors?null:o.structuralFormGroup.controls.structuralDocFile.errors.required))),e.xp6(1),e.Q6J("ngIf",o.structuralSubmitted&&(null==o.structuralFormGroup.controls.structuralDocFile.errors?null:o.structuralFormGroup.controls.structuralDocFile.errors.required)),e.xp6(6),e.Akn("float:right;"),e.Q6J("text","Submit")("btnId","primary")("type","submit"),e.xp6(1),e.Akn("float:right;margin-right:10px;"),e.Q6J("text","Save as draft")("btnId","default")("type","submit"),e.xp6(1),e.Akn("margin-top: 0px;"))},dependencies:[t.mk,t.O5,r._Y,r.Fj,r.JJ,r.JL,r.nD,r.sg,r.u,F.lW,y.TO,f.C0,f.VY,f.Vq,f.Ic,f.fd,T.Rr,c.a,u.h,a.r,i.L],styles:[".ddCls[_ngcontent-%COMP%]{margin-left:3%}.card-button[_ngcontent-%COMP%]{position:fixed;bottom:0;width:97%}.mat-mdc-stepper-horizontal[_ngcontent-%COMP%]{border-radius:10px;box-shadow:1px 1px 5px}.form-container[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%] + .mat-mdc-form-field[_ngcontent-%COMP%]{margin-left:8px}.form-container[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%]{width:220px}.form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin-bottom:20px}.form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:5px 0}.form-container[_ngcontent-%COMP%]   .mat-mdc-radio-button[_ngcontent-%COMP%]{margin:0 12px}.mat-mdc-button-base[_ngcontent-%COMP%]{float:right;margin:10px}.mat-mdc-stepper-next[_ngcontent-%COMP%]{background:#106a75}.mat-mdc-stepper-previous[_ngcontent-%COMP%]{background:#9f8346}.mat-mdc-button.mat-primary[_ngcontent-%COMP%], .mat-mdc-icon-button.mat-primary[_ngcontent-%COMP%], .mat-mdc-stroked-button.mat-primary[_ngcontent-%COMP%]{color:#fff!important}.mat-mdc-button.mat-secondary[_ngcontent-%COMP%], .mat-mdc-icon-button.mat-secondary[_ngcontent-%COMP%], .mat-mdc-stroked-button.mat-secondary[_ngcontent-%COMP%]{color:#fff!important;background:#747474e8}.owner-detail-cls[_ngcontent-%COMP%]{padding:10px;background:#e2dfda38;box-shadow:0 0 1px;margin:10px}.flat-details-card[_ngcontent-%COMP%]{margin-top:10px;border-radius:15px;padding:10px}.example-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:15px 0;align-items:flex-start}.example-radio-button[_ngcontent-%COMP%]{margin:5px}.mat-stepper-next[_ngcontent-%COMP%]{background:#106a75}.mat-stepper-previous[_ngcontent-%COMP%]{background:#9f8346}"]});const J=[{path:"create",component:C}];class h{}h.\u0275fac=function(n){return new(n||h)},h.\u0275mod=e.oAB({type:h}),h.\u0275inj=e.cJS({imports:[m.Bz.forChild(J),m.Bz]});var U=l(3281);class D{}D.\u0275fac=function(n){return new(n||D)},D.\u0275mod=e.oAB({type:D}),D.\u0275inj=e.cJS({imports:[t.ez,h,U.m]})}}]);