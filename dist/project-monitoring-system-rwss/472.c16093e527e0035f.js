"use strict";(self.webpackChunkProjectMonitoringSystem_RWSS=self.webpackChunkProjectMonitoringSystem_RWSS||[]).push([[472],{9664:(A,j,r)=>{r.d(j,{h:()=>h});var n=r(4537),d=r(92),s=r(8692),e=r(8659),T=r(9665),v=r(8033),P=r(1379);function Z(m,i){if(1&m&&(n.TgZ(0,"mat-option",5),n._uU(1),n.qZA()),2&m){const l=i.$implicit,g=n.oxw();n.Q6J("value",g.valueOnly?l.name:l),n.xp6(1),n.hij(" ",l.name," ")}}function N(m,i){1&m&&(n.TgZ(0,"mat-option"),n._uU(1," No result found "),n.qZA())}function x(m,i){1&m&&(n.TgZ(0,"mat-error"),n._uU(1," This field is "),n.TgZ(2,"strong"),n._uU(3,"required"),n.qZA()())}class h{constructor(i){this.controlContainer=i,this.type="",this.valueOnly=!1,this.control=d.TO,this.onChangeValue=new n.vpe,this.searchFilterCtrl=new d.p4}ngOnChanges(i){this.optionList&&this.optionList.length>0&&(this.options=JSON.parse(JSON.stringify(this.optionList))),this.controlContainer&&this.formControlName&&(this.selectCtrl=this.controlContainer.control?.get(this.formControlName),console.log("this.control=",this.selectCtrl))}ngOnInit(){this.optionList&&this.optionList.length>0&&(this.options=JSON.parse(JSON.stringify(this.optionList)),console.log("this.options==",this.options))}writeValue(i){console.log("value----=",i)}registerOnChange(i){}registerOnTouched(i){}setDisabledState(i){}onSelect(i){console.log("value==",i),this.onChangeValue.emit(i)}search(){let i=this.searchFilterCtrl.value;console.log("query",i);let l=this.select(i);console.log("result=",l),this.options=l}select(i){let l=[];for(let g of this.optionList)g.name.toLowerCase().indexOf(i)>-1&&l.push(g);return l}}h.\u0275fac=function(i){return new(i||h)(n.Y36(d.gN))},h.\u0275cmp=n.Xpm({type:h,selectors:[["app-select-search"]],inputs:{label:"label",type:"type",placeholder:"placeholder",formControlName:"formControlName",optionList:"optionList",valueOnly:"valueOnly",style:"style"},outputs:{onChangeValue:"onChangeValue"},features:[n._Bn([{provide:d.JU,useExisting:(0,n.Gpc)(()=>h),multi:!0}]),n.TTD],decls:9,vars:9,consts:[["ngDefaultControl","",3,"formControl","placeholder","openedChange","selectionChange"],["matInput","","focused","'true'","type","text","autocomplete","off","placeholder","search",1,"myInput-search",3,"formControl","keyup"],["myInput",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"value"]],template:function(i,l){if(1&i){const g=n.EpF();n.TgZ(0,"mat-form-field")(1,"mat-label"),n._uU(2),n.qZA(),n.TgZ(3,"mat-select",0),n.NdJ("openedChange",function(){n.CHM(g);const C=n.MAs(5);return n.KtG(C.focus())})("selectionChange",function(C){return l.onSelect(C.value)}),n.TgZ(4,"input",1,2),n.NdJ("keyup",function(){return l.search()}),n.qZA(),n.YNc(6,Z,2,2,"mat-option",3),n.YNc(7,N,2,0,"mat-option",4),n.qZA(),n.YNc(8,x,4,0,"mat-error",4),n.qZA()}2&i&&(n.Akn(l.style),n.xp6(2),n.Oqu(l.label),n.xp6(1),n.Q6J("formControl",l.selectCtrl)("placeholder",l.placeholder),n.xp6(1),n.Q6J("formControl",l.searchFilterCtrl),n.xp6(2),n.Q6J("ngForOf",l.options),n.xp6(1),n.Q6J("ngIf",l.options&&0==l.options.length),n.xp6(1),n.Q6J("ngIf",l.selectCtrl.hasError("required")))},dependencies:[s.sg,s.O5,d.Fj,d.JJ,d.oH,e.KE,e.hX,e.TO,T.Nt,v.gD,P.ey],styles:[".myInput-search[_ngcontent-%COMP%]{padding:10px;border-bottom:1px solid!important;width:100%}"]})},2472:(A,j,r)=>{r.r(j),r.d(j,{ManageProjectsModule:()=>_});var n=r(8692),d=r(3580),s=r(92),e=r(4537),T=r(8292),v=r(2135),P=r(5554),Z=r(8489),N=r(9664),x=r(6909),h=r(324),m=r(3538),i=r(3911),l=r(8659),g=r(9665);function S(o,t){1&o&&(e.TgZ(0,"th",18),e._uU(1," No. "),e.qZA())}function C(o,t){if(1&o&&(e.TgZ(0,"td",19),e._uU(1),e.qZA()),2&o){const a=t.index;e.xp6(1),e.hij(" ",a+1," ")}}function b(o,t){1&o&&(e.TgZ(0,"th",18),e._uU(1," Milestone"),e.qZA())}function E(o,t){if(1&o&&(e.TgZ(0,"td",19)(1,"p"),e._uU(2),e.qZA()()),2&o){const a=t.$implicit;e.xp6(2),e.Oqu(a.milestone)}}function J(o,t){1&o&&(e.TgZ(0,"th",18),e._uU(1," Start Time"),e.qZA())}function w(o,t){if(1&o&&(e.TgZ(0,"td",19)(1,"p"),e._uU(2),e.qZA()()),2&o){const a=t.$implicit;e.xp6(2),e.Oqu(a.startDate)}}function I(o,t){1&o&&(e.TgZ(0,"th",18),e._uU(1," End Time"),e.qZA())}function Q(o,t){if(1&o&&(e.TgZ(0,"td",19)(1,"p"),e._uU(2),e.qZA()()),2&o){const a=t.$implicit;e.xp6(2),e.Oqu(a.endDate)}}function F(o,t){1&o&&(e.TgZ(0,"th",18),e._uU(1," Timeline"),e.qZA())}function L(o,t){if(1&o&&(e.TgZ(0,"td",19)(1,"p"),e._uU(2),e.qZA()()),2&o){const a=t.$implicit;e.xp6(2),e.Oqu(a.timeline)}}function U(o,t){1&o&&(e.TgZ(0,"th",18),e._uU(1," Payment"),e.qZA())}function Y(o,t){if(1&o&&(e.TgZ(0,"td",19)(1,"p"),e._uU(2),e.qZA()()),2&o){const a=t.$implicit;e.xp6(2),e.Oqu(a.payment)}}function R(o,t){1&o&&(e.TgZ(0,"th",18),e._uU(1," Progress"),e.qZA())}const O=function(){return{standalone:!0}};function k(o,t){if(1&o){const a=e.EpF();e.TgZ(0,"td",19)(1,"mat-form-field",20)(2,"input",21),e.NdJ("ngModelChange",function(c){const y=e.CHM(a).$implicit;return e.KtG(y.progress=c)}),e.qZA()()()}if(2&o){const a=t.$implicit;e.xp6(2),e.Q6J("value",a.progress)("ngModel",a.progress)("ngModelOptions",e.DdM(3,O))}}function B(o,t){1&o&&(e.TgZ(0,"th",18),e._uU(1," Payment Mode"),e.qZA())}function G(o,t){if(1&o){const a=e.EpF();e.TgZ(0,"td",19)(1,"mat-form-field",22)(2,"input",23),e.NdJ("ngModelChange",function(c){const y=e.CHM(a).$implicit;return e.KtG(y.paymentMode=c)}),e.qZA()()()}if(2&o){const a=t.$implicit;e.xp6(2),e.Q6J("value",a.paymentMode)("ngModel",a.paymentMode)("ngModelOptions",e.DdM(3,O))}}function q(o,t){1&o&&e._UZ(0,"tr",24)}function V(o,t){1&o&&e._UZ(0,"tr",25)}class M{constructor(t,a,p){this.fb=t,this._formBuilder=a,this.tosasService=p,this.dataList=[],this.displayedColumns=["position","milestone","startDate","endDate","timeline","payment","progress","paymentMode"],this.columnNames=[],this.dataSource=new i.by,this.isLoading=!0,this.VOForm=s.nJ,this.isEditableNew=!0,this.paginator=m.NW,this.changeMilestone=new e.vpe}ngOnInit(){this.dataSource=new i.by([{milestone:"Survey, Design & Drawing",startDate:"M1",endDate:"M6",timeline:"6 months",payment:"1%",progress:"",paymentMode:""},{milestone:"Construction of Intake Well",startDate:"M7",endDate:"M14",timeline:"6 months",payment:"3%",progress:"",paymentMode:""},{milestone:"Supply of pipes, laying ,fitting & fixing from Raw water rising main to WTP",startDate:"M7",endDate:"M15",timeline:"12 months",payment:"10%",progress:"",paymentMode:""},{milestone:"Supply of pipes, laying ,fitting & fixing from Clear water rising main to Elevated storage Reservoirs",startDate:"M12",endDate:"M18",timeline:"12 months",payment:"40%",progress:"",paymentMode:""},{milestone:"Design, Construction, Testing & Commissioning of ESR",startDate:"M6",endDate:"M18",timeline:"24 months",payment:"43%",progress:"",paymentMode:""}])}submit(t){this.tosasService.success("Milestone Submitted Successfully")}save(t){this.tosasService.success("Milestone Saved Successfully")}onClickEditTableAction(t){console.log("edit event==",t)}ngAfterViewInit(){this.dataSource.paginator=this.paginator}onPaginateChange(t,a){setTimeout(p=>{let y=0==t.length?0:`${t.pageSize*t.pageIndex+1} - ${t.length<t.pageSize*(t.pageIndex+1)?t.length:t.pageSize*(t.pageIndex+1)}`,X=`Page ${0==t.length?"0 of 0":`${t.pageIndex+1} of ${t.getNumberOfPages()}`} (${y} of ${t.length})`;a.length>=1&&(a[0].innerHTML=X)},0,t.pageIndex)}saveandnext(){console.log("this.VOForm ==",this.VOForm.value)}}function W(o,t){if(1&o){const a=e.EpF();e.TgZ(0,"section",6)(1,"div",7)(2,"div",8)(3,"h5"),e._uU(4,"Search Project"),e.qZA()(),e.TgZ(5,"div",9)(6,"form",10),e._UZ(7,"app-select-search",11)(8,"app-text-field",12)(9,"app-date-picker",13)(10,"app-date-picker",14),e.TgZ(11,"div",15)(12,"app-button",16),e.NdJ("click",function(c){e.CHM(a);const u=e.oxw();return e.KtG(u.onSearchProject(c))}),e.qZA()()()()()()}if(2&o){const a=e.oxw();e.xp6(6),e.Q6J("formGroup",a.projectFormGroup),e.xp6(1),e.Q6J("label","Project Type")("placeholder","Select Project Type")("optionList",a.projectTypeList),e.xp6(1),e.Akn(""),e.Q6J("isReadOnly","false")("maxlength",100)("label","Project Name")("placeholder","Enter Project Name"),e.xp6(1),e.Q6J("label","Project Start Date")("placeholder","Enter Project Start Date"),e.xp6(1),e.Q6J("label","Project End Date")("placeholder","Enter Project End Date"),e.xp6(2),e.Akn("float:right;margin-right:10px;"),e.Q6J("text","Search")("btnId","default")("type","submit")}}function $(o,t){if(1&o){const a=e.EpF();e.TgZ(0,"section",17)(1,"div",7)(2,"div",8)(3,"h5"),e._uU(4,"Project List"),e.qZA()(),e.TgZ(5,"div",9)(6,"ag-grid-angular",18),e.NdJ("gridReady",function(c){e.CHM(a);const u=e.oxw();return e.KtG(u.onGridReady(c))})("cellClicked",function(c){e.CHM(a);const u=e.oxw();return e.KtG(u.onCellClicked(c))}),e.qZA()()()()}if(2&o){const a=e.oxw();e.xp6(6),e.Q6J("columnDefs",a.columnDefs)("defaultColDef",a.defaultColDef)("rowData",a.rowData)("paginationAutoPageSize",!0)("pagination",!0)("suppressRowClickSelection",!0)}}function K(o,t){if(1&o){const a=e.EpF();e.TgZ(0,"section",19)(1,"div",20)(2,"span",21),e.NdJ("click",function(){e.CHM(a);const c=e.oxw();return e.KtG(c.goBack())}),e._UZ(3,"i",22),e._uU(4," Back "),e.qZA()(),e._UZ(5,"app-milestone-details"),e.qZA()}}M.\u0275fac=function(t){return new(t||M)(e.Y36(s.QS),e.Y36(s.QS),e.Y36(T._W))},M.\u0275cmp=e.Xpm({type:M,selectors:[["app-milestone-details"]],viewQuery:function(t,a){if(1&t&&e.Gf(m.NW,5),2&t){let p;e.iGM(p=e.CRH())&&(a.paginator=p.first)}},outputs:{changeMilestone:"changeMilestone"},decls:35,vars:13,consts:[[1,"card"],[1,"mat-elevation-z8","card-body"],["autocomplete","off"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["table",""],["matColumnDef","position"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","milestone"],["matColumnDef","startDate"],["matColumnDef","endDate"],["matColumnDef","timeline"],["matColumnDef","payment"],["matColumnDef","progress"],["matColumnDef","paymentMode"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"text","btnId","type","click"],["mat-header-cell",""],["mat-cell",""],[2,"width","100px"],["matInput","","placeholder","Progress",3,"value","ngModel","ngModelOptions","ngModelChange"],[2,"width","150px"],["matInput","","placeholder","Payment Mode",3,"value","ngModel","ngModelOptions","ngModelChange"],["mat-header-row",""],["mat-row",""]],template:function(t,a){1&t&&(e.TgZ(0,"section")(1,"div",0)(2,"div",1)(3,"form",2)(4,"table",3,4),e.ynx(6,5),e.YNc(7,S,2,0,"th",6),e.YNc(8,C,2,1,"td",7),e.BQk(),e.ynx(9,8),e.YNc(10,b,2,0,"th",6),e.YNc(11,E,3,1,"td",7),e.BQk(),e.ynx(12,9),e.YNc(13,J,2,0,"th",6),e.YNc(14,w,3,1,"td",7),e.BQk(),e.ynx(15,10),e.YNc(16,I,2,0,"th",6),e.YNc(17,Q,3,1,"td",7),e.BQk(),e.ynx(18,11),e.YNc(19,F,2,0,"th",6),e.YNc(20,L,3,1,"td",7),e.BQk(),e.ynx(21,12),e.YNc(22,U,2,0,"th",6),e.YNc(23,Y,3,1,"td",7),e.BQk(),e.ynx(24,13),e.YNc(25,R,2,0,"th",6),e.YNc(26,k,3,4,"td",7),e.BQk(),e.ynx(27,14),e.YNc(28,B,2,0,"th",6),e.YNc(29,G,3,4,"td",7),e.BQk(),e.YNc(30,q,1,0,"tr",15),e.YNc(31,V,1,0,"tr",16),e.qZA(),e.TgZ(32,"div")(33,"app-button",17),e.NdJ("click",function(c){return a.submit(c)}),e.qZA(),e.TgZ(34,"app-button",17),e.NdJ("click",function(c){return a.save(c)}),e.qZA()()()()()()),2&t&&(e.xp6(4),e.Q6J("dataSource",a.dataSource),e.xp6(26),e.Q6J("matHeaderRowDef",a.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",a.displayedColumns),e.xp6(2),e.Akn("float:right;margin-right:10px;"),e.Q6J("text","Submit")("btnId","primary")("type","submit"),e.xp6(1),e.Akn("float:right;margin-right:10px;"),e.Q6J("text","Save as draft")("btnId","secondary")("type","submit"))},dependencies:[s._Y,s.Fj,s.JJ,s.JL,s.On,s.F,l.KE,g.Nt,i.BZ,i.fO,i.as,i.w1,i.Dz,i.nj,i.ge,i.ev,i.XQ,i.Gk,x.r]});class D{constructor(t,a,p,c){this.toastService=t,this.cmnService=a,this._formBuilder=p,this.router=c,this.showProjectList=!1,this.showProjectDetails=!1,this.showProjectSearch=!0,this.columnDefs=[{field:"projectName",cellStyle:{color:"#046A38",cursor:"pointer"}},{field:"projectType"},{field:"projectValue"},{field:"projectStartDate"},{field:"projectEndDate"},{field:"projectDuration"},{field:"projectProgress"}],this.defaultColDef={flex:1,minWidth:150,filter:!0},this.projectFormGroup=s.nJ,this.projectTypeList=[{code:"SVMW",name:"SVMW"},{code:"Mega",name:"Mega"}],this.projectList=[{code:"001",name:"Project 1"},{code:"002",name:"Project 2"}],this.executingAgencyList=[{code:"001",name:"Executing Ahency 1"},{code:"002",name:"Executing Ahency 2"}]}ngOnInit(){this.projectFormGroup=this._formBuilder.group({projectName:[""],projectType:[""],projectStartDate:[""],projectEndDate:[""]})}onGridReady(t){this.rowData=[{projectName:"Project 1",projectType:"SVMV",projectValue:"21Cr",projectStartDate:"2/2/23",projectEndDate:"2/1/24",projectDuration:"24 Months",projectProgress:"30%"},{projectName:"Project 2",projectType:"SVMV",projectValue:"1Cr",projectStartDate:"1/2/23",projectEndDate:"2/8/23",projectDuration:"6 Months",projectProgress:"50%"}]}onCellClicked(t){window.scroll({top:0,left:0,behavior:"smooth"}),this.showProjectDetails=!0,this.showProjectList=!1,this.showProjectSearch=!1}onSearchProject(t){t.preventDefault(),this.projectFormGroup.value.projectName||this.projectFormGroup.value.projectType||this.projectFormGroup.value.projectStartDate||this.projectFormGroup.value.projectEndDate?this.showProjectList=!0:this.toastService.warning("Please select one search field")}goBack(){this.showProjectDetails=!1,this.showProjectList=!0,this.showProjectSearch=!0}}D.\u0275fac=function(t){return new(t||D)(e.Y36(T._W),e.Y36(v.R),e.Y36(s.QS),e.Y36(d.F0))},D.\u0275cmp=e.Xpm({type:D,selectors:[["app-project-search"]],decls:9,vars:3,consts:[[1,"container",2,"padding-top","10px"],[1,"row"],[1,"col-lg-10","col-md-10","heading-cls"],["id","main-section","class","search-project-dashboard",4,"ngIf"],["id","search-project-table","class","search-project-table",4,"ngIf"],["id","project-dashboard-details","class","project-dashboard-details",4,"ngIf"],["id","main-section",1,"search-project-dashboard"],[1,"container"],[1,"label-header"],[1,"marginTopForFormCustomClass1"],["id","frmIndexPage",3,"formGroup"],["formControlName","projectType",1,"property-form",3,"label","placeholder","optionList"],["formControlName","projectName",1,"property-form",3,"isReadOnly","maxlength","label","placeholder"],["formControlName","projectStartDate",1,"property-form",3,"label","placeholder"],["formControlName","projectEndDate",1,"property-form",3,"label","placeholder"],[2,"height","40px"],[3,"text","btnId","type","click"],["id","search-project-table",1,"search-project-table"],[1,"ag-theme-alpine",2,"width","100%","height","50vh",3,"columnDefs","defaultColDef","rowData","paginationAutoPageSize","pagination","suppressRowClickSelection","gridReady","cellClicked"],["id","project-dashboard-details",1,"project-dashboard-details"],[1,"container",2,"margin-bottom","10px"],[2,"cursor","pointer",3,"click"],[1,"icofont-arrow-left","go-back"]],template:function(t,a){1&t&&(e.TgZ(0,"section")(1,"div",0)(2,"div",1)(3,"div",2)(4,"span"),e._uU(5,"Manage Projects"),e.qZA()()()()(),e.YNc(6,W,13,19,"section",3),e.YNc(7,$,7,6,"section",4),e.YNc(8,K,6,0,"section",5)),2&t&&(e.xp6(6),e.Q6J("ngIf",a.showProjectSearch),e.xp6(1),e.Q6J("ngIf",a.showProjectList),e.xp6(1),e.Q6J("ngIf",a.showProjectDetails))},dependencies:[n.O5,s._Y,s.JJ,s.JL,s.nD,s.sg,s.u,P.N8,Z.a,N.h,x.r,h.L,M],styles:[".search-project-dashboard[_ngcontent-%COMP%]{padding-top:20px;padding-bottom:20px}.label-header[_ngcontent-%COMP%]{background:#a1c1e1;text-align:center;padding:1px;border-radius:3px}.search-project-table[_ngcontent-%COMP%], .project-dashboard-details[_ngcontent-%COMP%]{padding-top:20px;padding-bottom:20px}.marginTopForFormCustomClass1[_ngcontent-%COMP%]{margin-top:10px}.go-back[_ngcontent-%COMP%]:hover{color:#01458e}"]});const H=[{path:"",component:D}];class f{}f.\u0275fac=function(t){return new(t||f)},f.\u0275mod=e.oAB({type:f}),f.\u0275inj=e.cJS({imports:[d.Bz.forChild(H),d.Bz]});var z=r(3281);class _{}_.\u0275fac=function(t){return new(t||_)},_.\u0275mod=e.oAB({type:_}),_.\u0275inj=e.cJS({imports:[n.ez,f,z.m]})}}]);