"use strict";(self.webpackChunkProjectMonitoringSystem_RWSS=self.webpackChunkProjectMonitoringSystem_RWSS||[]).push([[472],{9664:(A,T,l)=>{l.d(T,{h:()=>u});var o=l(4537),h=l(92),p=l(8692),g=l(8659),e=l(9665),S=l(8033),y=l(1379);function M(d,r){if(1&d&&(o.TgZ(0,"mat-option",5),o._uU(1),o.qZA()),2&d){const i=r.$implicit,f=o.oxw();o.Q6J("value",f.valueOnly?i.name:i),o.xp6(1),o.hij(" ",i.name," ")}}function P(d,r){1&d&&(o.TgZ(0,"mat-option"),o._uU(1," No result found "),o.qZA())}function Z(d,r){1&d&&(o.TgZ(0,"mat-error"),o._uU(1," This field is "),o.TgZ(2,"strong"),o._uU(3,"required"),o.qZA()())}class u{constructor(r){this.controlContainer=r,this.type="",this.valueOnly=!1,this.control=h.TO,this.onChangeValue=new o.vpe,this.searchFilterCtrl=new h.p4}ngOnChanges(r){this.optionList&&this.optionList.length>0&&(this.options=JSON.parse(JSON.stringify(this.optionList))),this.controlContainer&&this.formControlName&&(this.selectCtrl=this.controlContainer.control?.get(this.formControlName),console.log("this.control=",this.selectCtrl))}ngOnInit(){this.optionList&&this.optionList.length>0&&(this.options=JSON.parse(JSON.stringify(this.optionList)),console.log("this.options==",this.options))}writeValue(r){console.log("value----=",r)}registerOnChange(r){}registerOnTouched(r){}setDisabledState(r){}onSelect(r){console.log("value==",r),this.onChangeValue.emit(r)}search(){let r=this.searchFilterCtrl.value;console.log("query",r);let i=this.select(r);console.log("result=",i),this.options=i}select(r){let i=[];for(let f of this.optionList)f.name.toLowerCase().indexOf(r)>-1&&i.push(f);return i}}u.\u0275fac=function(r){return new(r||u)(o.Y36(h.gN))},u.\u0275cmp=o.Xpm({type:u,selectors:[["app-select-search"]],inputs:{label:"label",type:"type",placeholder:"placeholder",formControlName:"formControlName",optionList:"optionList",valueOnly:"valueOnly",style:"style"},outputs:{onChangeValue:"onChangeValue"},features:[o._Bn([{provide:h.JU,useExisting:(0,o.Gpc)(()=>u),multi:!0}]),o.TTD],decls:9,vars:9,consts:[["ngDefaultControl","",3,"formControl","placeholder","openedChange","selectionChange"],["matInput","","focused","'true'","type","text","autocomplete","off","placeholder","search",1,"myInput-search",3,"formControl","keyup"],["myInput",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"value"]],template:function(r,i){if(1&r){const f=o.EpF();o.TgZ(0,"mat-form-field")(1,"mat-label"),o._uU(2),o.qZA(),o.TgZ(3,"mat-select",0),o.NdJ("openedChange",function(){o.CHM(f);const v=o.MAs(5);return o.KtG(v.focus())})("selectionChange",function(v){return i.onSelect(v.value)}),o.TgZ(4,"input",1,2),o.NdJ("keyup",function(){return i.search()}),o.qZA(),o.YNc(6,M,2,2,"mat-option",3),o.YNc(7,P,2,0,"mat-option",4),o.qZA(),o.YNc(8,Z,4,0,"mat-error",4),o.qZA()}2&r&&(o.Akn(i.style),o.xp6(2),o.Oqu(i.label),o.xp6(1),o.Q6J("formControl",i.selectCtrl)("placeholder",i.placeholder),o.xp6(1),o.Q6J("formControl",i.searchFilterCtrl),o.xp6(2),o.Q6J("ngForOf",i.options),o.xp6(1),o.Q6J("ngIf",i.options&&0==i.options.length),o.xp6(1),o.Q6J("ngIf",i.selectCtrl.hasError("required")))},dependencies:[p.sg,p.O5,h.Fj,h.JJ,h.oH,g.KE,g.hX,g.TO,e.Nt,S.gD,y.ey],styles:[".myInput-search[_ngcontent-%COMP%]{padding:10px;border-bottom:1px solid!important;width:100%}"]})},2472:(A,T,l)=>{l.r(T),l.d(T,{ManageProjectsModule:()=>C});var o=l(8692),h=l(3580),p=l(92),g=l(4386),e=l(4537),S=l(8292),y=l(2135),M=l(8912),P=l(8489),Z=l(9664),u=l(6909),d=l(324),r=l(3538),i=l(3911),f=l(5834),D=l(1561);function v(n,t){1&n&&(e.TgZ(0,"th",16),e._uU(1," No. "),e.qZA())}function b(n,t){if(1&n&&(e.TgZ(0,"td",17),e._uU(1),e.qZA()),2&n){const a=t.index;e.xp6(1),e.hij(" ",a+1," ")}}function J(n,t){1&n&&(e.TgZ(0,"th",16),e._uU(1," Milestone"),e.qZA())}function w(n,t){if(1&n&&(e.TgZ(0,"td",17)(1,"p"),e._uU(2),e.qZA()()),2&n){const a=t.$implicit;e.xp6(2),e.Oqu(a.milestone)}}function E(n,t){1&n&&(e.TgZ(0,"th",16),e._uU(1," Start Time"),e.qZA())}function L(n,t){if(1&n&&(e.TgZ(0,"td",17)(1,"p"),e._uU(2),e.qZA()()),2&n){const a=t.$implicit;e.xp6(2),e.Oqu(a.startDate)}}function I(n,t){1&n&&(e.TgZ(0,"th",16),e._uU(1," End Time"),e.qZA())}function Q(n,t){if(1&n&&(e.TgZ(0,"td",17)(1,"p"),e._uU(2),e.qZA()()),2&n){const a=t.$implicit;e.xp6(2),e.Oqu(a.endDate)}}function F(n,t){1&n&&(e.TgZ(0,"th",16),e._uU(1," Payment %"),e.qZA())}function U(n,t){if(1&n&&(e.TgZ(0,"td",17)(1,"p"),e._uU(2),e.qZA()()),2&n){const a=t.$implicit;e.xp6(2),e.Oqu(a.payment)}}function k(n,t){1&n&&(e.TgZ(0,"th",16),e._uU(1," Completed"),e.qZA())}function Y(n,t){if(1&n){const a=e.EpF();e.TgZ(0,"td",17)(1,"mat-checkbox",18),e.NdJ("click",function(c){return c.stopPropagation()})("change",function(c){const N=e.CHM(a).$implicit,O=e.oxw();return e.KtG(O.selectHandler(c,N))}),e.qZA()()}if(2&n){const a=t.$implicit,m=e.oxw();e.xp6(1),e.Q6J("value",a.progress)("checked",m.selection.isSelected(a))}}function R(n,t){1&n&&e._UZ(0,"tr",19)}function B(n,t){1&n&&e._UZ(0,"tr",20)}class j{constructor(t,a,m){this.fb=t,this._formBuilder=a,this.tosasService=m,this.selection=new f.Ov(!0,[]),this.dataList=[],this.displayedColumns=["position","milestone","startDate","endDate","payment","progress"],this.columnNames=[],this.dataSource=new i.by,this.isLoading=!0,this.VOForm=p.nJ,this.isEditableNew=!0,this.paginator=r.NW,this.changeMilestone=new e.vpe}selectHandler(t,a){this.selection.toggle(a)}ngOnInit(){this.dataSource=new i.by(g.Z.milestoneList)}submit(t){this.changeMilestone.emit({msg:"Milestone Saved Successfully"})}save(t){this.tosasService.success("Milestone Saved Successfully")}onClickEditTableAction(t){}ngAfterViewInit(){this.dataSource.paginator=this.paginator}onPaginateChange(t,a){setTimeout(m=>{let N=0==t.length?0:`${t.pageSize*t.pageIndex+1} - ${t.length<t.pageSize*(t.pageIndex+1)?t.length:t.pageSize*(t.pageIndex+1)}`,q=`Page ${0==t.length?"0 of 0":`${t.pageIndex+1} of ${t.getNumberOfPages()}`} (${N} of ${t.length})`;a.length>=1&&(a[0].innerHTML=q)},0,t.pageIndex)}saveandnext(){}}function G(n,t){if(1&n){const a=e.EpF();e.TgZ(0,"section",6)(1,"div",7)(2,"div",8)(3,"h5"),e._uU(4,"Search Project"),e.qZA()(),e.TgZ(5,"div",9)(6,"form",10),e._UZ(7,"app-select-search",11)(8,"app-text-field",12)(9,"app-date-picker",13)(10,"app-date-picker",14),e.TgZ(11,"div",15)(12,"app-button",16),e.NdJ("click",function(c){e.CHM(a);const s=e.oxw();return e.KtG(s.onSearchProject(c))}),e.qZA()()()()()()}if(2&n){const a=e.oxw();e.xp6(6),e.Q6J("formGroup",a.projectFormGroup),e.xp6(1),e.Q6J("label","Project Type")("placeholder","Select Project Type")("optionList",a.projectTypeList),e.xp6(1),e.Akn(""),e.Q6J("isReadOnly","false")("maxlength",100)("label","Project Name")("placeholder","Enter Project Name"),e.xp6(1),e.Q6J("label","Project Start Date")("placeholder","Enter Project Start Date"),e.xp6(1),e.Q6J("label","Project End Date")("placeholder","Enter Project End Date"),e.xp6(2),e.Akn("float:right;margin-right:10px;"),e.Q6J("text","Search")("btnId","default")("type","submit")}}function W(n,t){if(1&n){const a=e.EpF();e.TgZ(0,"section",17)(1,"div",7)(2,"div",8)(3,"h5"),e._uU(4,"Project List"),e.qZA()(),e.TgZ(5,"div",9)(6,"ag-grid-angular",18),e.NdJ("gridReady",function(c){e.CHM(a);const s=e.oxw();return e.KtG(s.onGridReady(c))})("cellClicked",function(c){e.CHM(a);const s=e.oxw();return e.KtG(s.onCellClicked(c))}),e.qZA()()()()}if(2&n){const a=e.oxw();e.xp6(6),e.Q6J("columnDefs",a.columnDefs)("defaultColDef",a.defaultColDef)("rowData",a.rowData)("paginationAutoPageSize",!0)("pagination",!0)("suppressRowClickSelection",!0)}}function H(n,t){if(1&n){const a=e.EpF();e.TgZ(0,"section",19)(1,"div",20)(2,"span",21),e.NdJ("click",function(){e.CHM(a);const c=e.oxw();return e.KtG(c.goBack())}),e._UZ(3,"i",22),e._uU(4," Back "),e.qZA()(),e.TgZ(5,"app-milestone-details",23),e.NdJ("changeMilestone",function(c){e.CHM(a);const s=e.oxw();return e.KtG(s.changeMilestone(c))}),e.qZA()()}}j.\u0275fac=function(t){return new(t||j)(e.Y36(p.QS),e.Y36(p.QS),e.Y36(S._W))},j.\u0275cmp=e.Xpm({type:j,selectors:[["app-milestone-details"]],viewQuery:function(t,a){if(1&t&&e.Gf(r.NW,5),2&t){let m;e.iGM(m=e.CRH())&&(a.paginator=m.first)}},outputs:{changeMilestone:"changeMilestone"},decls:28,vars:8,consts:[[1,"card"],[1,"mat-elevation-z8","card-body"],["autocomplete","off"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["table",""],["matColumnDef","position"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","milestone"],["matColumnDef","startDate"],["matColumnDef","endDate"],["matColumnDef","payment"],["matColumnDef","progress"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"text","btnId","type","click"],["mat-header-cell",""],["mat-cell",""],["color","success",3,"value","checked","click","change"],["mat-header-row",""],["mat-row",""]],template:function(t,a){1&t&&(e.TgZ(0,"section")(1,"div",0)(2,"div",1)(3,"form",2)(4,"table",3,4),e.ynx(6,5),e.YNc(7,v,2,0,"th",6),e.YNc(8,b,2,1,"td",7),e.BQk(),e.ynx(9,8),e.YNc(10,J,2,0,"th",6),e.YNc(11,w,3,1,"td",7),e.BQk(),e.ynx(12,9),e.YNc(13,E,2,0,"th",6),e.YNc(14,L,3,1,"td",7),e.BQk(),e.ynx(15,10),e.YNc(16,I,2,0,"th",6),e.YNc(17,Q,3,1,"td",7),e.BQk(),e.ynx(18,11),e.YNc(19,F,2,0,"th",6),e.YNc(20,U,3,1,"td",7),e.BQk(),e.ynx(21,12),e.YNc(22,k,2,0,"th",6),e.YNc(23,Y,2,2,"td",7),e.BQk(),e.YNc(24,R,1,0,"tr",13),e.YNc(25,B,1,0,"tr",14),e.qZA(),e.TgZ(26,"div")(27,"app-button",15),e.NdJ("click",function(c){return a.submit(c)}),e.qZA()()()()()()),2&t&&(e.xp6(4),e.Q6J("dataSource",a.dataSource),e.xp6(20),e.Q6J("matHeaderRowDef",a.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",a.displayedColumns),e.xp6(2),e.Akn("float:right;margin-right:10px;"),e.Q6J("text","Save")("btnId","primary")("type","submit"))},dependencies:[p._Y,p.JL,p.F,D.oG,i.BZ,i.fO,i.as,i.w1,i.Dz,i.nj,i.ge,i.ev,i.XQ,i.Gk,u.r]});class x{constructor(t,a,m,c){this.toastService=t,this.cmnService=a,this._formBuilder=m,this.router=c,this.showProjectList=!1,this.showProjectDetails=!1,this.showProjectSearch=!0,this.columnDefs=[{field:"projectName",cellStyle:{color:"#046A38",cursor:"pointer"},cellRenderer:s=>'<span title="'+s.value+'">'+s.value+"</span>"},{field:"projectType"},{field:"projectStartDate"},{field:"projectEndDate"},{field:"projectProgress",cellRenderer:s=>{if(void 0!==s.value)return s.value?'<div class="progress"><div class="progress-bar" role="progressbar"style="width: '+s.value+';" aria-valuenow="'+s.value+'" aria-valuemin="0" aria-valuemax="100">'+s.value+"</div></div>":s.value}}],this.defaultColDef={flex:1,minWidth:150,filter:!0},this.projectFormGroup=p.nJ,this.projectTypeList=[{code:"SVMW",name:"SVMW"},{code:"Mega",name:"Mega"}],this.projectList=[{code:"001",name:"Project 1"},{code:"002",name:"Project 2"}],this.executingAgencyList=[{code:"001",name:"Executing Ahency 1"},{code:"002",name:"Executing Ahency 2"}]}ngOnInit(){this.projectFormGroup=this._formBuilder.group({projectName:[""],projectType:[""],projectStartDate:[""],projectEndDate:[""]})}onGridReady(t){this.rowData=g.Z.projectList}onCellClicked(t){window.scroll({top:0,left:0,behavior:"smooth"}),this.showProjectDetails=!0,this.showProjectList=!1,this.showProjectSearch=!1}onSearchProject(t){t.preventDefault(),this.projectFormGroup.value.projectName||this.projectFormGroup.value.projectType||this.projectFormGroup.value.projectStartDate||this.projectFormGroup.value.projectEndDate?this.showProjectList=!0:this.toastService.warning("Please select one search field")}goBack(){this.showProjectDetails=!1,this.showProjectList=!0,this.showProjectSearch=!0}changeMilestone(t){t&&(this.toastService.success(t.msg),setTimeout(()=>{this.goBack()},200))}}x.\u0275fac=function(t){return new(t||x)(e.Y36(S._W),e.Y36(y.R),e.Y36(p.QS),e.Y36(h.F0))},x.\u0275cmp=e.Xpm({type:x,selectors:[["app-project-search"]],decls:9,vars:3,consts:[[1,"container",2,"padding-top","10px"],[1,"row"],[1,"col-lg-10","col-md-10","heading-cls"],["id","main-section","class","search-project-dashboard",4,"ngIf"],["id","search-project-table","class","search-project-table",4,"ngIf"],["id","project-dashboard-details","class","project-dashboard-details",4,"ngIf"],["id","main-section",1,"search-project-dashboard"],[1,"container"],[1,"label-header"],[1,"marginTopForFormCustomClass1"],["id","frmIndexPage",3,"formGroup"],["formControlName","projectType",1,"property-form",3,"label","placeholder","optionList"],["formControlName","projectName",1,"property-form",3,"isReadOnly","maxlength","label","placeholder"],["formControlName","projectStartDate",1,"property-form",3,"label","placeholder"],["formControlName","projectEndDate",1,"property-form",3,"label","placeholder"],[2,"height","40px"],[3,"text","btnId","type","click"],["id","search-project-table",1,"search-project-table"],[1,"ag-theme-alpine",2,"width","100%","height","50vh",3,"columnDefs","defaultColDef","rowData","paginationAutoPageSize","pagination","suppressRowClickSelection","gridReady","cellClicked"],["id","project-dashboard-details",1,"project-dashboard-details"],[1,"container",2,"margin-bottom","10px"],[2,"cursor","pointer",3,"click"],[1,"icofont-arrow-left","go-back"],[3,"changeMilestone"]],template:function(t,a){1&t&&(e.TgZ(0,"section")(1,"div",0)(2,"div",1)(3,"div",2)(4,"span"),e._uU(5,"Project Monitoring"),e.qZA()()()()(),e.YNc(6,G,13,19,"section",3),e.YNc(7,W,7,6,"section",4),e.YNc(8,H,6,0,"section",5)),2&t&&(e.xp6(6),e.Q6J("ngIf",a.showProjectSearch),e.xp6(1),e.Q6J("ngIf",a.showProjectList),e.xp6(1),e.Q6J("ngIf",a.showProjectDetails))},dependencies:[o.O5,p._Y,p.JJ,p.JL,p.nD,p.sg,p.u,M.N8,P.a,Z.h,u.r,d.L,j],styles:[".search-project-dashboard[_ngcontent-%COMP%], .search-project-table[_ngcontent-%COMP%], .project-dashboard-details[_ngcontent-%COMP%]{padding-top:20px;padding-bottom:20px}.marginTopForFormCustomClass1[_ngcontent-%COMP%]{margin-top:10px}.go-back[_ngcontent-%COMP%]:hover{color:#01458e}"]});const K=[{path:"",component:x}];class _{}_.\u0275fac=function(t){return new(t||_)},_.\u0275mod=e.oAB({type:_}),_.\u0275inj=e.cJS({imports:[h.Bz.forChild(K),h.Bz]});var $=l(3874);class C{}C.\u0275fac=function(t){return new(t||C)},C.\u0275mod=e.oAB({type:C}),C.\u0275inj=e.cJS({imports:[o.ez,_,$.m]})}}]);